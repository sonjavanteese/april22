var or=Object.defineProperty,ar=Object.defineProperties;var cr=Object.getOwnPropertyDescriptors;var Jn=Object.getOwnPropertySymbols;var ur=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable;var qn=(s,e,t)=>e in s?or(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,dn=(s,e)=>{for(var t in e||(e={}))ur.call(e,t)&&qn(s,t,e[t]);if(Jn)for(var t of Jn(e))fr.call(e,t)&&qn(s,t,e[t]);return s},pn=(s,e)=>ar(s,cr(e));const hr=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};hr();function T(){}const Ht=s=>s;function oe(s,e){for(const t in e)s[t]=e[t];return s}function dr(s){return s&&typeof s=="object"&&typeof s.then=="function"}function Rs(s){return s()}function Gn(){return Object.create(null)}function ye(s){s.forEach(Rs)}function gt(s){return typeof s=="function"}function ee(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function pr(s){return Object.keys(s).length===0}function Is(s,...e){if(s==null)return T;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Me(s,e,t){s.$$.on_destroy.push(Is(e,t))}function Fe(s,e,t,n){if(s){const r=Ds(s,e,t,n);return s[0](r)}}function Ds(s,e,t,n){return s[1]&&n?oe(t.ctx.slice(),s[1](n(e))):t.ctx}function He(s,e,t,n){if(s[2]&&n){const r=s[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(e.dirty.length,r.length);for(let o=0;o<l;o+=1)i[o]=e.dirty[o]|r[o];return i}return e.dirty|r}return e.dirty}function Je(s,e,t,n,r,i){if(r){const l=Ds(e,t,n,i);s.p(l,r)}}function qe(s){if(s.ctx.length>32){const e=[],t=s.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Ze(s){const e={};for(const t in s)t[0]!=="$"&&(e[t]=s[t]);return e}function ve(s,e){const t={};e=new Set(e);for(const n in s)!e.has(n)&&n[0]!=="$"&&(t[n]=s[n]);return t}function mr(s){const e={};for(const t in s)e[t]=!0;return e}function ze(s,e,t){return s.set(t),e}function De(s){return s&&gt(s.destroy)?s.destroy:T}const Ns=typeof window!="undefined";let rn=Ns?()=>window.performance.now():()=>Date.now(),En=Ns?s=>requestAnimationFrame(s):T;const Ot=new Set;function Us(s){Ot.forEach(e=>{e.c(s)||(Ot.delete(e),e.f())}),Ot.size!==0&&En(Us)}function ln(s){let e;return Ot.size===0&&En(Us),{promise:new Promise(t=>{Ot.add(e={c:s,f:t})}),abort(){Ot.delete(e)}}}function h(s,e){s.appendChild(e)}function Bs(s){if(!s)return document;const e=s.getRootNode?s.getRootNode():s.ownerDocument;return e&&e.host?e:s.ownerDocument}function _r(s){const e=p("style");return gr(Bs(s),e),e.sheet}function gr(s,e){h(s.head||s,e)}function E(s,e,t){s.insertBefore(e,t||null)}function S(s){s.parentNode.removeChild(s)}function ot(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function p(s){return document.createElement(s)}function J(s){return document.createTextNode(s)}function $(){return J(" ")}function Oe(){return J("")}function X(s,e,t,n){return s.addEventListener(e,t,n),()=>s.removeEventListener(e,t,n)}function Tn(s){return function(e){return e.preventDefault(),s.call(this,e)}}function f(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function $e(s,e){const t=Object.getOwnPropertyDescriptors(s.__proto__);for(const n in e)e[n]==null?s.removeAttribute(n):n==="style"?s.style.cssText=e[n]:n==="__value"?s.value=s[n]=e[n]:t[n]&&t[n].set?s[n]=e[n]:f(s,n,e[n])}function br(s){return Array.from(s.childNodes)}function ue(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function Vt(s,e){s.value=e==null?"":e}function Se(s,e,t,n){t===null?s.style.removeProperty(e):s.style.setProperty(e,t,n?"important":"")}function Yn(s,e){for(let t=0;t<s.options.length;t+=1){const n=s.options[t];if(n.__value===e){n.selected=!0;return}}s.selectedIndex=-1}function vr(s){const e=s.querySelector(":checked")||s.options[0];return e&&e.__value}function te(s,e,t){s.classList[t?"add":"remove"](e)}function xs(s,e,t=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(s,t,!1,e),n}const tn=new Map;let nn=0;function yr(s){let e=5381,t=s.length;for(;t--;)e=(e<<5)-e^s.charCodeAt(t);return e>>>0}function kr(s,e){const t={stylesheet:_r(e),rules:{}};return tn.set(s,t),t}function xt(s,e,t,n,r,i,l,o=0){const a=16.666/n;let c=`{
`;for(let y=0;y<=1;y+=a){const b=e+(t-e)*i(y);c+=y*100+`%{${l(b,1-b)}}
`}const u=c+`100% {${l(t,1-t)}}
}`,d=`__svelte_${yr(u)}_${o}`,m=Bs(s),{stylesheet:_,rules:g}=tn.get(m)||kr(m,s);g[d]||(g[d]=!0,_.insertRule(`@keyframes ${d} ${u}`,_.cssRules.length));const A=s.style.animation||"";return s.style.animation=`${A?`${A}, `:""}${d} ${n}ms linear ${r}ms 1 both`,nn+=1,d}function Lt(s,e){const t=(s.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=t.length-n.length;r&&(s.style.animation=n.join(", "),nn-=r,nn||wr())}function wr(){En(()=>{nn||(tn.forEach(s=>{const{stylesheet:e}=s;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);s.rules={}}),tn.clear())})}function Ar(s,e,t,n){if(!e)return T;const r=s.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return T;const{delay:i=0,duration:l=300,easing:o=Ht,start:a=rn()+i,end:c=a+l,tick:u=T,css:d}=t(s,{from:e,to:r},n);let m=!0,_=!1,g;function A(){d&&(g=xt(s,0,1,l,i,o,d)),i||(_=!0)}function y(){d&&Lt(s,g),m=!1}return ln(b=>{if(!_&&b>=a&&(_=!0),_&&b>=c&&(u(1,0),y()),!m)return!1;if(_){const D=b-a,k=0+1*o(D/l);u(k,1-k)}return!0}),A(),u(0,1),y}function $r(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,r=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,Sr(s,r)}}function Sr(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),r=n.transform==="none"?"":n.transform;s.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Mt;function et(s){Mt=s}function bt(){if(!Mt)throw new Error("Function called outside component initialization");return Mt}function Er(s){bt().$$.on_mount.push(s)}function Tr(s){bt().$$.after_update.push(s)}function Cr(s){bt().$$.on_destroy.push(s)}function Cn(){const s=bt();return(e,t)=>{const n=s.$$.callbacks[e];if(n){const r=xs(e,t);n.slice().forEach(i=>{i.call(s,r)})}}}function kt(s,e){bt().$$.context.set(s,e)}function ut(s){return bt().$$.context.get(s)}function gn(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Nt=[],_t=[],Zt=[],bn=[],Ls=Promise.resolve();let vn=!1;function Ms(){vn||(vn=!0,Ls.then(jn))}function Fs(){return Ms(),Ls}function Le(s){Zt.push(s)}function On(s){bn.push(s)}const mn=new Set;let Wt=0;function jn(){const s=Mt;do{for(;Wt<Nt.length;){const e=Nt[Wt];Wt++,et(e),Or(e.$$)}for(et(null),Nt.length=0,Wt=0;_t.length;)_t.pop()();for(let e=0;e<Zt.length;e+=1){const t=Zt[e];mn.has(t)||(mn.add(t),t())}Zt.length=0}while(Nt.length);for(;bn.length;)bn.pop()();vn=!1,mn.clear(),et(s)}function Or(s){if(s.fragment!==null){s.update(),ye(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Le)}}let It;function Pn(){return It||(It=Promise.resolve(),It.then(()=>{It=null})),It}function mt(s,e,t){s.dispatchEvent(xs(`${e?"intro":"outro"}${t}`))}const en=new Set;let Xe;function _e(){Xe={r:0,c:[],p:Xe}}function ge(){Xe.r||ye(Xe.c),Xe=Xe.p}function j(s,e){s&&s.i&&(en.delete(s),s.i(e))}function I(s,e,t,n){if(s&&s.o){if(en.has(s))return;en.add(s),Xe.c.push(()=>{en.delete(s),n&&(t&&s.d(1),n())}),s.o(e)}}const Rn={duration:0};function jr(s,e,t){let n=e(s,t),r=!1,i,l,o=0;function a(){i&&Lt(s,i)}function c(){const{delay:d=0,duration:m=300,easing:_=Ht,tick:g=T,css:A}=n||Rn;A&&(i=xt(s,0,1,m,d,_,A,o++)),g(0,1);const y=rn()+d,b=y+m;l&&l.abort(),r=!0,Le(()=>mt(s,!0,"start")),l=ln(D=>{if(r){if(D>=b)return g(1,0),mt(s,!0,"end"),a(),r=!1;if(D>=y){const k=_((D-y)/m);g(k,1-k)}}return r})}let u=!1;return{start(){u||(u=!0,Lt(s),gt(n)?(n=n(),Pn().then(c)):c())},invalidate(){u=!1},end(){r&&(a(),r=!1)}}}function Pr(s,e,t){let n=e(s,t),r=!0,i;const l=Xe;l.r+=1;function o(){const{delay:a=0,duration:c=300,easing:u=Ht,tick:d=T,css:m}=n||Rn;m&&(i=xt(s,1,0,c,a,u,m));const _=rn()+a,g=_+c;Le(()=>mt(s,!1,"start")),ln(A=>{if(r){if(A>=g)return d(0,1),mt(s,!1,"end"),--l.r||ye(l.c),!1;if(A>=_){const y=u((A-_)/c);d(1-y,y)}}return r})}return gt(n)?Pn().then(()=>{n=n(),o()}):o(),{end(a){a&&n.tick&&n.tick(1,0),r&&(i&&Lt(s,i),r=!1)}}}function lt(s,e,t,n){let r=e(s,t),i=n?0:1,l=null,o=null,a=null;function c(){a&&Lt(s,a)}function u(m,_){const g=m.b-i;return _*=Math.abs(g),{a:i,b:m.b,d:g,duration:_,start:m.start,end:m.start+_,group:m.group}}function d(m){const{delay:_=0,duration:g=300,easing:A=Ht,tick:y=T,css:b}=r||Rn,D={start:rn()+_,b:m};m||(D.group=Xe,Xe.r+=1),l||o?o=D:(b&&(c(),a=xt(s,i,m,g,_,A,b)),m&&y(0,1),l=u(D,g),Le(()=>mt(s,m,"start")),ln(k=>{if(o&&k>o.start&&(l=u(o,g),o=null,mt(s,l.b,"start"),b&&(c(),a=xt(s,i,l.b,l.duration,0,A,r.css))),l){if(k>=l.end)y(i=l.b,1-i),mt(s,l.b,"end"),o||(l.b?c():--l.group.r||ye(l.group.c)),l=null;else if(k>=l.start){const C=k-l.start;i=l.a+l.d*A(C/l.duration),y(i,1-i)}}return!!(l||o)}))}return{run(m){gt(r)?Pn().then(()=>{r=r(),d(m)}):d(m)},end(){c(),l=o=null}}}function Ue(s,e){const t=e.token={};function n(r,i,l,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;l!==void 0&&(a=a.slice(),a[l]=o);const c=r&&(e.current=r)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,m)=>{m!==i&&d&&(_e(),I(d,1,1,()=>{e.blocks[m]===d&&(e.blocks[m]=null)}),ge())}):e.block.d(1),c.c(),j(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[i]=c),u&&jn()}if(dr(s)){const r=bt();if(s.then(i=>{et(r),n(e.then,1,e.value,i),et(null)},i=>{if(et(r),n(e.catch,2,e.error,i),et(null),!e.hasCatch)throw i}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,s),!0;e.resolved=s}}function vt(s,e,t){const n=e.slice(),{resolved:r}=s;s.current===s.then&&(n[s.value]=r),s.current===s.catch&&(n[s.error]=r),s.block.p(n,t)}function Rr(s,e){I(s,1,1,()=>{e.delete(s.key)})}function Ir(s,e){s.f(),Rr(s,e)}function Dr(s,e,t,n,r,i,l,o,a,c,u,d){let m=s.length,_=i.length,g=m;const A={};for(;g--;)A[s[g].key]=g;const y=[],b=new Map,D=new Map;for(g=_;g--;){const O=d(r,i,g),U=t(O);let R=l.get(U);R?n&&R.p(O,e):(R=c(U,O),R.c()),b.set(U,y[g]=R),U in A&&D.set(U,Math.abs(g-A[U]))}const k=new Set,C=new Set;function w(O){j(O,1),O.m(o,u),l.set(O.key,O),u=O.first,_--}for(;m&&_;){const O=y[_-1],U=s[m-1],R=O.key,M=U.key;O===U?(u=O.first,m--,_--):b.has(M)?!l.has(R)||k.has(R)?w(O):C.has(M)?m--:D.get(R)>D.get(M)?(C.add(R),w(O)):(k.add(M),m--):(a(U,l),m--)}for(;m--;){const O=s[m];b.has(O.key)||a(O,l)}for(;_;)w(y[_-1]);return y}function Ce(s,e){const t={},n={},r={$$scope:1};let i=s.length;for(;i--;){const l=s[i],o=e[i];if(o){for(const a in l)a in o||(n[a]=1);for(const a in o)r[a]||(t[a]=o[a],r[a]=1);s[i]=o}else for(const a in l)r[a]=1}for(const l in n)l in t||(t[l]=void 0);return t}function Rt(s){return typeof s=="object"&&s!==null?s:{}}function In(s,e,t){const n=s.$$.props[e];n!==void 0&&(s.$$.bound[n]=t,t(s.$$.ctx[n]))}function Y(s){s&&s.c()}function q(s,e,t,n){const{fragment:r,on_mount:i,on_destroy:l,after_update:o}=s.$$;r&&r.m(e,t),n||Le(()=>{const a=i.map(Rs).filter(gt);l?l.push(...a):ye(a),s.$$.on_mount=[]}),o.forEach(Le)}function G(s,e){const t=s.$$;t.fragment!==null&&(ye(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Nr(s,e){s.$$.dirty[0]===-1&&(Nt.push(s),Ms(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function re(s,e,t,n,r,i,l,o=[-1]){const a=Mt;et(s);const c=s.$$={fragment:null,ctx:null,props:i,update:T,not_equal:r,bound:Gn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Gn(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(c.root);let u=!1;if(c.ctx=t?t(s,e.props||{},(d,m,..._)=>{const g=_.length?_[0]:m;return c.ctx&&r(c.ctx[d],c.ctx[d]=g)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](g),u&&Nr(s,d)),m}):[],c.update(),u=!0,ye(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=br(e.target);c.fragment&&c.fragment.l(d),d.forEach(S)}else c.fragment&&c.fragment.c();e.intro&&j(s.$$.fragment),q(s,e.target,e.anchor,e.customElement),jn()}et(a)}class ie{$destroy(){G(this,1),this.$destroy=T}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!pr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function wt(s){if(!s)throw Error("Parameter args is required");if(!s.component==!s.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(s.component&&(s.asyncComponent=()=>Promise.resolve(s.component)),typeof s.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(s.conditions){Array.isArray(s.conditions)||(s.conditions=[s.conditions]);for(let t=0;t<s.conditions.length;t++)if(!s.conditions[t]||typeof s.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return s.loadingComponent&&(s.asyncComponent.loading=s.loadingComponent,s.asyncComponent.loadingParams=s.loadingParams||void 0),{component:s.asyncComponent,userData:s.userData,conditions:s.conditions&&s.conditions.length?s.conditions:void 0,props:s.props&&Object.keys(s.props).length?s.props:{},_sveltesparouter:!0}}const At=[];function Hs(s,e){return{subscribe:at(s,e).subscribe}}function at(s,e=T){let t;const n=new Set;function r(o){if(ee(s,o)&&(s=o,t)){const a=!At.length;for(const c of n)c[1](),At.push(c,s);if(a){for(let c=0;c<At.length;c+=2)At[c][0](At[c+1]);At.length=0}}}function i(o){r(o(s))}function l(o,a=T){const c=[o,a];return n.add(c),n.size===1&&(t=e(r)||T),o(s),()=>{n.delete(c),n.size===0&&(t(),t=null)}}return{set:r,update:i,subscribe:l}}function Js(s,e,t){const n=!Array.isArray(s),r=n?[s]:s,i=e.length<2;return Hs(t,l=>{let o=!1;const a=[];let c=0,u=T;const d=()=>{if(c)return;u();const _=e(n?a[0]:a,l);i?l(_):u=gt(_)?_:T},m=r.map((_,g)=>Is(_,A=>{a[g]=A,c&=~(1<<g),o&&d()},()=>{c|=1<<g}));return o=!0,d(),function(){ye(m),u()}})}function Ur(s,e){if(s instanceof RegExp)return{keys:!1,pattern:s};var t,n,r,i,l=[],o="",a=s.split("/");for(a[0]||a.shift();r=a.shift();)t=r[0],t==="*"?(l.push("wild"),o+="/(.*)"):t===":"?(n=r.indexOf("?",1),i=r.indexOf(".",1),l.push(r.substring(1,~n?n:~i?i:r.length)),o+=!!~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+r.substring(i))):o+="/"+r;return{keys:l,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function Br(s){let e,t,n;const r=[s[2]];var i=s[0];function l(o){let a={};for(let c=0;c<r.length;c+=1)a=oe(a,r[c]);return{props:a}}return i&&(e=new i(l()),e.$on("routeEvent",s[7])),{c(){e&&Y(e.$$.fragment),t=Oe()},m(o,a){e&&q(e,o,a),E(o,t,a),n=!0},p(o,a){const c=a&4?Ce(r,[Rt(o[2])]):{};if(i!==(i=o[0])){if(e){_e();const u=e;I(u.$$.fragment,1,0,()=>{G(u,1)}),ge()}i?(e=new i(l()),e.$on("routeEvent",o[7]),Y(e.$$.fragment),j(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(o){n||(e&&j(e.$$.fragment,o),n=!0)},o(o){e&&I(e.$$.fragment,o),n=!1},d(o){o&&S(t),e&&G(e,o)}}}function xr(s){let e,t,n;const r=[{params:s[1]},s[2]];var i=s[0];function l(o){let a={};for(let c=0;c<r.length;c+=1)a=oe(a,r[c]);return{props:a}}return i&&(e=new i(l()),e.$on("routeEvent",s[6])),{c(){e&&Y(e.$$.fragment),t=Oe()},m(o,a){e&&q(e,o,a),E(o,t,a),n=!0},p(o,a){const c=a&6?Ce(r,[a&2&&{params:o[1]},a&4&&Rt(o[2])]):{};if(i!==(i=o[0])){if(e){_e();const u=e;I(u.$$.fragment,1,0,()=>{G(u,1)}),ge()}i?(e=new i(l()),e.$on("routeEvent",o[6]),Y(e.$$.fragment),j(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(o){n||(e&&j(e.$$.fragment,o),n=!0)},o(o){e&&I(e.$$.fragment,o),n=!1},d(o){o&&S(t),e&&G(e,o)}}}function Lr(s){let e,t,n,r;const i=[xr,Br],l=[];function o(a,c){return a[1]?0:1}return e=o(s),t=l[e]=i[e](s),{c(){t.c(),n=Oe()},m(a,c){l[e].m(a,c),E(a,n,c),r=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(_e(),I(l[u],1,1,()=>{l[u]=null}),ge(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),j(t,1),t.m(n.parentNode,n))},i(a){r||(j(t),r=!0)},o(a){I(t),r=!1},d(a){l[e].d(a),a&&S(n)}}}function zn(){const s=window.location.href.indexOf("#/");let e=s>-1?window.location.href.substr(s+1):"/";const t=e.indexOf("?");let n="";return t>-1&&(n=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:n}}const Dn=Hs(null,function(e){e(zn());const t=()=>{e(zn())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),Mr=Js(Dn,s=>s.location);Js(Dn,s=>s.querystring);const Vn=at(void 0);async function Fr(s){if(!s||s.length<1||s.charAt(0)!="/"&&s.indexOf("#/")!==0)throw Error("Invalid parameter location");await Fs(),history.replaceState(pn(dn({},history.state),{__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY}),void 0,void 0),window.location.hash=(s.charAt(0)=="#"?"":"#")+s}function Ne(s,e){if(e=Kn(e),!s||!s.tagName||s.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Wn(s,e),{update(t){t=Kn(t),Wn(s,t)}}}function Wn(s,e){let t=e.href||s.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);s.setAttribute("href",t),s.addEventListener("click",n=>{n.preventDefault(),e.disabled||Hr(n.currentTarget.getAttribute("href"))})}function Kn(s){return s&&typeof s=="string"?{href:s}:s||{}}function Hr(s){history.replaceState(pn(dn({},history.state),{__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY}),void 0,void 0),window.location.hash=s}function Jr(s,e,t){let{routes:n={}}=e,{prefix:r=""}=e,{restoreScrollState:i=!1}=e;class l{constructor(w,O){if(!O||typeof O!="function"&&(typeof O!="object"||O._sveltesparouter!==!0))throw Error("Invalid component object");if(!w||typeof w=="string"&&(w.length<1||w.charAt(0)!="/"&&w.charAt(0)!="*")||typeof w=="object"&&!(w instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:U,keys:R}=Ur(w);this.path=w,typeof O=="object"&&O._sveltesparouter===!0?(this.component=O.component,this.conditions=O.conditions||[],this.userData=O.userData,this.props=O.props||{}):(this.component=()=>Promise.resolve(O),this.conditions=[],this.props={}),this._pattern=U,this._keys=R}match(w){if(r){if(typeof r=="string")if(w.startsWith(r))w=w.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const M=w.match(r);if(M&&M[0])w=w.substr(M[0].length)||"/";else return null}}const O=this._pattern.exec(w);if(O===null)return null;if(this._keys===!1)return O;const U={};let R=0;for(;R<this._keys.length;){try{U[this._keys[R]]=decodeURIComponent(O[R+1]||"")||null}catch{U[this._keys[R]]=null}R++}return U}async checkConditions(w){for(let O=0;O<this.conditions.length;O++)if(!await this.conditions[O](w))return!1;return!0}}const o=[];n instanceof Map?n.forEach((C,w)=>{o.push(new l(w,C))}):Object.keys(n).forEach(C=>{o.push(new l(C,n[C]))});let a=null,c=null,u={};const d=Cn();async function m(C,w){await Fs(),d(C,w)}let _=null,g=null;i&&(g=C=>{C.state&&C.state.__svelte_spa_router_scrollY?_=C.state:_=null},window.addEventListener("popstate",g),Tr(()=>{_?window.scrollTo(_.__svelte_spa_router_scrollX,_.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let A=null,y=null;const b=Dn.subscribe(async C=>{A=C;let w=0;for(;w<o.length;){const O=o[w].match(C.location);if(!O){w++;continue}const U={route:o[w].path,location:C.location,querystring:C.querystring,userData:o[w].userData,params:O&&typeof O=="object"&&Object.keys(O).length?O:null};if(!await o[w].checkConditions(U)){t(0,a=null),y=null,m("conditionsFailed",U);return}m("routeLoading",Object.assign({},U));const R=o[w].component;if(y!=R){R.loading?(t(0,a=R.loading),y=R,t(1,c=R.loadingParams),t(2,u={}),m("routeLoaded",Object.assign({},U,{component:a,name:a.name,params:c}))):(t(0,a=null),y=null);const M=await R();if(C!=A)return;t(0,a=M&&M.default||M),y=R}O&&typeof O=="object"&&Object.keys(O).length?t(1,c=O):t(1,c=null),t(2,u=o[w].props),m("routeLoaded",Object.assign({},U,{component:a,name:a.name,params:c})).then(()=>{Vn.set(c)});return}t(0,a=null),y=null,Vn.set(void 0)});Cr(()=>{b(),g&&window.removeEventListener("popstate",g)});function D(C){gn.call(this,s,C)}function k(C){gn.call(this,s,C)}return s.$$set=C=>{"routes"in C&&t(3,n=C.routes),"prefix"in C&&t(4,r=C.prefix),"restoreScrollState"in C&&t(5,i=C.restoreScrollState)},s.$$.update=()=>{s.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[a,c,u,n,r,i,D,k]}class qr extends ie{constructor(e){super(),re(this,e,Jr,Lr,ee,{routes:3,prefix:4,restoreScrollState:5})}}const Gr="1.35.2",qs={"X-Client-Info":`supabase-js/${Gr}`},Yr="supabase.auth.token";function zr(s){return s.replace(/\/$/,"")}const Vr=()=>typeof window!="undefined";var Jt=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};const Wr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Kr=(s,e)=>{if(typeof s.json!="function")return e(s);s.json().then(t=>e({message:Wr(t),status:(s==null?void 0:s.status)||500}))},Qr=(s,e,t)=>{const n={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(t)),n};function on(s,e,t,n,r){return Jt(this,void 0,void 0,function*(){return new Promise((i,l)=>{s(t,Qr(e,n,r)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?i:o.json()}).then(o=>i(o)).catch(o=>Kr(o,l))})})}function _n(s,e,t){return Jt(this,void 0,void 0,function*(){return on(s,"GET",e,t)})}function Te(s,e,t,n){return Jt(this,void 0,void 0,function*(){return on(s,"POST",e,n,t)})}function Qn(s,e,t,n){return Jt(this,void 0,void 0,function*(){return on(s,"PUT",e,n,t)})}function Xr(s,e,t,n){return Jt(this,void 0,void 0,function*(){return on(s,"DELETE",e,n,t)})}const Zr="1.22.13",ei="http://localhost:9999",ti={"X-Client-Info":`gotrue-js/${Zr}`},Dt="supabase.auth.token",ni={name:"sb",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};function si(s,e,t){const n=t||{},r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof r!="function")throw new TypeError("option encode is invalid");if(!i.test(s))throw new TypeError("argument name is invalid");const l=r(e);if(l&&!i.test(l))throw new TypeError("argument val is invalid");let o=s+"="+l;if(n.maxAge!=null){const a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(n.domain){if(!i.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function ri(s){if(!s||!s.headers||!s.headers.host)throw new Error('The "host" request header is not available');const e=s.headers.host.indexOf(":")>-1&&s.headers.host.split(":")[0]||s.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function ii(s,e){var t,n,r;return si(s.name,s.value,{maxAge:s.maxAge,expires:new Date(Date.now()+s.maxAge*1e3),httpOnly:!0,secure:e,path:(t=s.path)!==null&&t!==void 0?t:"/",domain:(n=s.domain)!==null&&n!==void 0?n:"",sameSite:(r=s.sameSite)!==null&&r!==void 0?r:"lax"})}function yn(s,e,t){const n=t.map(i=>ii(i,ri(s))),r=e.getHeader("Set-Cookie");return r&&(r instanceof Array?Array.prototype.push.apply(n,r):typeof r=="string"&&n.push(r)),n}function Kt(s,e,t){e.setHeader("Set-Cookie",yn(s,e,t))}var li=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function oi(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var kn={exports:{}};(function(s,e){var t=typeof self!="undefined"?self:li,n=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(l){var o={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function a(v){return v&&DataView.prototype.isPrototypeOf(v)}if(o.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(v){return v&&c.indexOf(Object.prototype.toString.call(v))>-1};function d(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function m(v){return typeof v!="string"&&(v=String(v)),v}function _(v){var P={next:function(){var N=v.shift();return{done:N===void 0,value:N}}};return o.iterable&&(P[Symbol.iterator]=function(){return P}),P}function g(v){this.map={},v instanceof g?v.forEach(function(P,N){this.append(N,P)},this):Array.isArray(v)?v.forEach(function(P){this.append(P[0],P[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(P){this.append(P,v[P])},this)}g.prototype.append=function(v,P){v=d(v),P=m(P);var N=this.map[v];this.map[v]=N?N+", "+P:P},g.prototype.delete=function(v){delete this.map[d(v)]},g.prototype.get=function(v){return v=d(v),this.has(v)?this.map[v]:null},g.prototype.has=function(v){return this.map.hasOwnProperty(d(v))},g.prototype.set=function(v,P){this.map[d(v)]=m(P)},g.prototype.forEach=function(v,P){for(var N in this.map)this.map.hasOwnProperty(N)&&v.call(P,this.map[N],N,this)},g.prototype.keys=function(){var v=[];return this.forEach(function(P,N){v.push(N)}),_(v)},g.prototype.values=function(){var v=[];return this.forEach(function(P){v.push(P)}),_(v)},g.prototype.entries=function(){var v=[];return this.forEach(function(P,N){v.push([N,P])}),_(v)},o.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function A(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function y(v){return new Promise(function(P,N){v.onload=function(){P(v.result)},v.onerror=function(){N(v.error)}})}function b(v){var P=new FileReader,N=y(P);return P.readAsArrayBuffer(v),N}function D(v){var P=new FileReader,N=y(P);return P.readAsText(v),N}function k(v){for(var P=new Uint8Array(v),N=new Array(P.length),H=0;H<P.length;H++)N[H]=String.fromCharCode(P[H]);return N.join("")}function C(v){if(v.slice)return v.slice(0);var P=new Uint8Array(v.byteLength);return P.set(new Uint8Array(v)),P.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:o.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:o.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():o.arrayBuffer&&o.blob&&a(v)?(this._bodyArrayBuffer=C(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||u(v))?this._bodyArrayBuffer=C(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var v=A(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var v=A(this);if(v)return v;if(this._bodyBlob)return D(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U(v){var P=v.toUpperCase();return O.indexOf(P)>-1?P:v}function R(v,P){P=P||{};var N=P.body;if(v instanceof R){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,P.headers||(this.headers=new g(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!N&&v._bodyInit!=null&&(N=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new g(P.headers)),this.method=U(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(N)}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})};function M(v){var P=new FormData;return v.trim().split("&").forEach(function(N){if(N){var H=N.split("="),F=H.shift().replace(/\+/g," "),B=H.join("=").replace(/\+/g," ");P.append(decodeURIComponent(F),decodeURIComponent(B))}}),P}function z(v){var P=new g,N=v.replace(/\r?\n[\t ]+/g," ");return N.split(/\r?\n/).forEach(function(H){var F=H.split(":"),B=F.shift().trim();if(B){var V=F.join(":").trim();P.append(B,V)}}),P}w.call(R.prototype);function Q(v,P){P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in P?P.statusText:"OK",this.headers=new g(P.headers),this.url=P.url||"",this._initBody(v)}w.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},Q.error=function(){var v=new Q(null,{status:0,statusText:""});return v.type="error",v};var fe=[301,302,303,307,308];Q.redirect=function(v,P){if(fe.indexOf(P)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:P,headers:{location:v}})},l.DOMException=i.DOMException;try{new l.DOMException}catch{l.DOMException=function(P,N){this.message=P,this.name=N;var H=Error(P);this.stack=H.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function K(v,P){return new Promise(function(N,H){var F=new R(v,P);if(F.signal&&F.signal.aborted)return H(new l.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function V(){B.abort()}B.onload=function(){var x={status:B.status,statusText:B.statusText,headers:z(B.getAllResponseHeaders()||"")};x.url="responseURL"in B?B.responseURL:x.headers.get("X-Request-URL");var le="response"in B?B.response:B.responseText;N(new Q(le,x))},B.onerror=function(){H(new TypeError("Network request failed"))},B.ontimeout=function(){H(new TypeError("Network request failed"))},B.onabort=function(){H(new l.DOMException("Aborted","AbortError"))},B.open(F.method,F.url,!0),F.credentials==="include"?B.withCredentials=!0:F.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&o.blob&&(B.responseType="blob"),F.headers.forEach(function(x,le){B.setRequestHeader(le,x)}),F.signal&&(F.signal.addEventListener("abort",V),B.onreadystatechange=function(){B.readyState===4&&F.signal.removeEventListener("abort",V)}),B.send(typeof F._bodyInit=="undefined"?null:F._bodyInit)})}return K.polyfill=!0,i.fetch||(i.fetch=K,i.Headers=g,i.Request=R,i.Response=Q),l.Headers=g,l.Request=R,l.Response=Q,l.fetch=K,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=n;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,s.exports=e})(kn,kn.exports);var an=oi(kn.exports);function st(s){return Math.round(Date.now()/1e3)+s}function ai(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const rt=()=>typeof window!="undefined";function it(s,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),s=s.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+s+"(=([^&#]*)|&|#|$)"),r=n.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}const ci=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=an:e=fetch,(...t)=>e(...t)};var me=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};class ui{constructor({url:e="",headers:t={},cookieOptions:n,fetch:r}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},ni),n),this.fetch=ci(r)}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}cookieName(){var e;return(e=this.cookieOptions.name)!==null&&e!==void 0?e:""}getUrlForProvider(e,t){const n=[`provider=${encodeURIComponent(e)}`];return t!=null&&t.redirectTo&&n.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&n.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${n.join("&")}`}signUpWithEmail(e,t,n={}){return me(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let i="";n.redirectTo&&(i="?redirect_to="+encodeURIComponent(n.redirectTo));const l=yield Te(this.fetch,`${this.url}/signup${i}`,{email:e,password:t,data:n.data,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:r}),o=Object.assign({},l);return o.expires_in&&(o.expires_at=st(l.expires_in)),{data:o,error:null}}catch(r){return{data:null,error:r}}})}signInWithEmail(e,t,n={}){return me(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let i="?grant_type=password";n.redirectTo&&(i+="&redirect_to="+encodeURIComponent(n.redirectTo));const l=yield Te(this.fetch,`${this.url}/token${i}`,{email:e,password:t},{headers:r}),o=Object.assign({},l);return o.expires_in&&(o.expires_at=st(l.expires_in)),{data:o,error:null}}catch(r){return{data:null,error:r}}})}signUpWithPhone(e,t,n={}){return me(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers),i=yield Te(this.fetch,`${this.url}/signup`,{phone:e,password:t,data:n.data,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:r}),l=Object.assign({},i);return l.expires_in&&(l.expires_at=st(i.expires_in)),{data:l,error:null}}catch(r){return{data:null,error:r}}})}signInWithPhone(e,t){return me(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers),r="?grant_type=password",i=yield Te(this.fetch,`${this.url}/token${r}`,{phone:e,password:t},{headers:n}),l=Object.assign({},i);return l.expires_in&&(l.expires_at=st(i.expires_in)),{data:l,error:null}}catch(n){return{data:null,error:n}}})}signInWithOpenIDConnect({id_token:e,nonce:t,client_id:n,issuer:r,provider:i}){return me(this,void 0,void 0,function*(){try{const l=Object.assign({},this.headers),o="?grant_type=id_token",a=yield Te(this.fetch,`${this.url}/token${o}`,{id_token:e,nonce:t,client_id:n,issuer:r,provider:i},{headers:l}),c=Object.assign({},a);return c.expires_in&&(c.expires_at=st(a.expires_in)),{data:c,error:null}}catch(l){return{data:null,error:l}}})}sendMagicLinkEmail(e,t={}){var n;return me(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);let i="";t.redirectTo&&(i+="?redirect_to="+encodeURIComponent(t.redirectTo));const l=(n=t.shouldCreateUser)!==null&&n!==void 0?n:!0;return{data:yield Te(this.fetch,`${this.url}/otp${i}`,{email:e,create_user:l,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}sendMobileOTP(e,t={}){var n;return me(this,void 0,void 0,function*(){try{const r=(n=t.shouldCreateUser)!==null&&n!==void 0?n:!0,i=Object.assign({},this.headers);return{data:yield Te(this.fetch,`${this.url}/otp`,{phone:e,create_user:r,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:i}),error:null}}catch(r){return{data:null,error:r}}})}signOut(e){return me(this,void 0,void 0,function*(){try{return yield Te(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(t){return{error:t}}})}verifyMobileOTP(e,t,n={}){return me(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers),i=yield Te(this.fetch,`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:n.redirectTo},{headers:r}),l=Object.assign({},i);return l.expires_in&&(l.expires_at=st(i.expires_in)),{data:l,error:null}}catch(r){return{data:null,error:r}}})}verifyOTP({email:e,phone:t,token:n,type:r="sms"},i={}){return me(this,void 0,void 0,function*(){try{const l=Object.assign({},this.headers),o=yield Te(this.fetch,`${this.url}/verify`,{email:e,phone:t,token:n,type:r,redirect_to:i.redirectTo},{headers:l}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=st(o.expires_in)),{data:a,error:null}}catch(l){return{data:null,error:l}}})}inviteUserByEmail(e,t={}){return me(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let r="";return t.redirectTo&&(r+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield Te(this.fetch,`${this.url}/invite${r}`,{email:e,data:t.data},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}resetPasswordForEmail(e,t={}){return me(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let r="";return t.redirectTo&&(r+="?redirect_to="+encodeURIComponent(t.redirectTo)),{data:yield Te(this.fetch,`${this.url}/recover${r}`,{email:e,gotrue_meta_security:{hcaptcha_token:t.captchaToken}},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}refreshAccessToken(e){return me(this,void 0,void 0,function*(){try{const t=yield Te(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),n=Object.assign({},t);return n.expires_in&&(n.expires_at=st(t.expires_in)),{data:n,error:null}}catch(t){return{data:null,error:t}}})}setAuthCookie(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:n,session:r}=e.body;if(!n)throw new Error("Auth event missing!");if(n==="SIGNED_IN"){if(!r)throw new Error("Auth session missing!");Kt(e,t,[{key:"access-token",value:r.access_token},{key:"refresh-token",value:r.refresh_token}].map(i=>{var l;return{name:`${this.cookieName()}-${i.key}`,value:i.value,domain:this.cookieOptions.domain,maxAge:(l=this.cookieOptions.lifetime)!==null&&l!==void 0?l:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}n==="SIGNED_OUT"&&Kt(e,t,["access-token","refresh-token"].map(i=>({name:`${this.cookieName()}-${i}`,value:"",maxAge:-1}))),t.status(200).json({})}deleteAuthCookie(e,t,{redirectTo:n="/"}){return Kt(e,t,["access-token","refresh-token"].map(r=>({name:`${this.cookieName()}-${r}`,value:"",maxAge:-1}))),t.redirect(307,n)}getAuthCookieString(e,t){e.method!=="POST"&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:n,session:r}=e.body;if(!n)throw new Error("Auth event missing!");if(n==="SIGNED_IN"){if(!r)throw new Error("Auth session missing!");return yn(e,t,[{key:"access-token",value:r.access_token},{key:"refresh-token",value:r.refresh_token}].map(i=>{var l;return{name:`${this.cookieName()}-${i.key}`,value:i.value,domain:this.cookieOptions.domain,maxAge:(l=this.cookieOptions.lifetime)!==null&&l!==void 0?l:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}}))}return n==="SIGNED_OUT"?yn(e,t,["access-token","refresh-token"].map(i=>({name:`${this.cookieName()}-${i}`,value:"",maxAge:-1}))):t.getHeader("Set-Cookie")}generateLink(e,t,n={}){return me(this,void 0,void 0,function*(){try{return{data:yield Te(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:t,password:n.password,data:n.data,redirect_to:n.redirectTo},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createUser(e){return me(this,void 0,void 0,function*(){try{const t=yield Te(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}listUsers(){return me(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return me(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}getUserByCookie(e,t){return me(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const n=e.cookies[`${this.cookieName()}-access-token`],r=e.cookies[`${this.cookieName()}-refresh-token`];if(!n)throw new Error("No cookie found!");const{user:i,error:l}=yield this.getUser(n);if(l){if(!r)throw new Error("No refresh_token cookie found!");if(!t)throw new Error("You need to pass the res object to automatically refresh the session!");const{data:o,error:a}=yield this.refreshAccessToken(r);if(a)throw a;if(o)return Kt(e,t,[{key:"access-token",value:o.access_token},{key:"refresh-token",value:o.refresh_token}].map(c=>{var u;return{name:`${this.cookieName()}-${c.key}`,value:c.value,domain:this.cookieOptions.domain,maxAge:(u=this.cookieOptions.lifetime)!==null&&u!==void 0?u:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite}})),{token:o.access_token,user:o.user,data:o.user,error:null}}return{token:n,user:i,data:i,error:null}}catch(n){return{token:null,user:null,data:null,error:n}}})}updateUserById(e,t){return me(this,void 0,void 0,function*(){try{const n=yield Qn(this.fetch,`${this.url}/admin/users/${e}`,t,{headers:this.headers});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}deleteUser(e){return me(this,void 0,void 0,function*(){try{const t=yield Xr(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}getUser(e){return me(this,void 0,void 0,function*(){try{const t=yield _n(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}})}updateUser(e,t){return me(this,void 0,void 0,function*(){try{const n=yield Qn(this.fetch,`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}}function fi(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var Ie=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};fi();const hi={url:ei,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:ti};class di{constructor(e){this.stateChangeEmitters=new Map;const t=Object.assign(Object.assign({},hi),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.multiTab=t.multiTab,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new ui({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions,fetch:t.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),t.detectSessionInUrl&&rt()&&!!it("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:n})=>{n&&console.error("Error getting session from URL.",n)})}signUp({email:e,password:t,phone:n},r={}){return Ie(this,void 0,void 0,function*(){try{this._removeSession();const{data:i,error:l}=n&&t?yield this.api.signUpWithPhone(n,t,{data:r.data,captchaToken:r.captchaToken}):yield this.api.signUpWithEmail(e,t,{redirectTo:r.redirectTo,data:r.data,captchaToken:r.captchaToken});if(l)throw l;if(!i)throw"An error occurred on sign up.";let o=null,a=null;return i.access_token&&(o=i,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(a=i),{user:a,session:o,error:null}}catch(i){return{user:null,session:null,error:i}}})}signIn({email:e,phone:t,password:n,refreshToken:r,provider:i,oidc:l},o={}){return Ie(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!n){const{error:a}=yield this.api.sendMagicLinkEmail(e,{redirectTo:o.redirectTo,shouldCreateUser:o.shouldCreateUser,captchaToken:o.captchaToken});return{user:null,session:null,error:a}}if(e&&n)return this._handleEmailSignIn(e,n,{redirectTo:o.redirectTo});if(t&&!n){const{error:a}=yield this.api.sendMobileOTP(t,{shouldCreateUser:o.shouldCreateUser,captchaToken:o.captchaToken});return{user:null,session:null,error:a}}if(t&&n)return this._handlePhoneSignIn(t,n);if(r){const{error:a}=yield this._callRefreshToken(r);if(a)throw a;return{user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:o.redirectTo,scopes:o.scopes});if(l)return this._handleOpenIDConnectSignIn(l);throw new Error("You must provide either an email, phone number, a third-party provider or OpenID Connect.")}catch(a){return{user:null,session:null,error:a}}})}verifyOTP(e,t={}){return Ie(this,void 0,void 0,function*(){try{this._removeSession();const{data:n,error:r}=yield this.api.verifyOTP(e,t);if(r)throw r;if(!n)throw"An error occurred on token verification.";let i=null,l=null;return n.access_token&&(i=n,l=i.user,this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN")),n.id&&(l=n),{user:l,session:i,error:null}}catch(n){return{user:null,session:null,error:n}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return Ie(this,void 0,void 0,function*(){try{if(!(!((e=this.currentSession)===null||e===void 0)&&e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(t){return{data:null,user:null,error:t}}})}update(e){var t;return Ie(this,void 0,void 0,function*(){try{if(!(!((t=this.currentSession)===null||t===void 0)&&t.access_token))throw new Error("Not logged in.");const{user:n,error:r}=yield this.api.updateUser(this.currentSession.access_token,e);if(r)throw r;if(!n)throw Error("Invalid user data.");const i=Object.assign(Object.assign({},this.currentSession),{user:n});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:n,user:n,error:null}}catch(n){return{data:null,user:null,error:n}}})}setSession(e){return Ie(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:n}=yield this.api.refreshAccessToken(e);return n?{session:null,error:n}:(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null})}catch(t){return{error:t,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:this.user()}),this._notifyAllSubscribers("TOKEN_REFRESHED"),this.currentSession}getSessionFromUrl(e){return Ie(this,void 0,void 0,function*(){try{if(!rt())throw new Error("No browser detected.");const t=it("error_description");if(t)throw new Error(t);const n=it("provider_token"),r=it("access_token");if(!r)throw new Error("No access_token detected.");const i=it("expires_in");if(!i)throw new Error("No expires_in detected.");const l=it("refresh_token");if(!l)throw new Error("No refresh_token detected.");const o=it("token_type");if(!o)throw new Error("No token_type detected.");const c=Math.round(Date.now()/1e3)+parseInt(i),{user:u,error:d}=yield this.api.getUser(r);if(d)throw d;const m={provider_token:n,access_token:r,expires_in:parseInt(i),expires_at:c,refresh_token:l,token_type:o,user:u};if(e!=null&&e.storeSession){this._saveSession(m);const _=it("type");this._notifyAllSubscribers("SIGNED_IN"),_==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:m,error:null}}catch(t){return{data:null,error:t}}})}signOut(){var e;return Ie(this,void 0,void 0,function*(){const t=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:n}=yield this.api.signOut(t);if(n)return{error:n}}return{error:null}})}onAuthStateChange(e){try{const t=ai(),n={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,n),{data:n,error:null}}catch(t){return{data:null,error:t}}}_handleEmailSignIn(e,t,n={}){var r,i;return Ie(this,void 0,void 0,function*(){try{const{data:l,error:o}=yield this.api.signInWithEmail(e,t,{redirectTo:n.redirectTo});return o||!l?{data:null,user:null,session:null,error:o}:((((r=l==null?void 0:l.user)===null||r===void 0?void 0:r.confirmed_at)||((i=l==null?void 0:l.user)===null||i===void 0?void 0:i.email_confirmed_at))&&(this._saveSession(l),this._notifyAllSubscribers("SIGNED_IN")),{data:l,user:l.user,session:l,error:null})}catch(l){return{data:null,user:null,session:null,error:l}}})}_handlePhoneSignIn(e,t){var n;return Ie(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.api.signInWithPhone(e,t);return i||!r?{data:null,user:null,session:null,error:i}:(!((n=r==null?void 0:r.user)===null||n===void 0)&&n.phone_confirmed_at&&(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")),{data:r,user:r.user,session:r,error:null})}catch(r){return{data:null,user:null,session:null,error:r}}})}_handleProviderSignIn(e,t={}){const n=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return rt()&&(window.location.href=n),{provider:e,url:n,data:null,session:null,user:null,error:null}}catch(r){return n?{provider:e,url:n,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:r}}}_handleOpenIDConnectSignIn({id_token:e,nonce:t,client_id:n,issuer:r,provider:i}){return Ie(this,void 0,void 0,function*(){if(e&&t&&(n&&r||i))try{const{data:l,error:o}=yield this.api.signInWithOpenIDConnect({id_token:e,nonce:t,client_id:n,issuer:r,provider:i});return o||!l?{user:null,session:null,error:o}:(this._saveSession(l),this._notifyAllSubscribers("SIGNED_IN"),{user:l.user,session:l,error:null})}catch(l){return{user:null,session:null,error:l}}throw new Error("You must provide a OpenID Connect provider with your id token and nonce.")})}_recoverSession(){var e;try{const t=rt()&&((e=this.localStorage)===null||e===void 0?void 0:e.getItem(Dt));if(!t||typeof t!="string")return null;const n=JSON.parse(t),{currentSession:r,expiresAt:i}=n,l=Math.round(Date.now()/1e3);i>=l&&(r==null?void 0:r.user)&&(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"))}catch(t){console.log("error",t)}}_recoverAndRefresh(){return Ie(this,void 0,void 0,function*(){try{const e=rt()&&(yield this.localStorage.getItem(Dt));if(!e)return null;const t=JSON.parse(e),{currentSession:n,expiresAt:r}=t,i=Math.round(Date.now()/1e3);if(r<i)if(this.autoRefreshToken&&n.refresh_token){const{error:l}=yield this._callRefreshToken(n.refresh_token);l&&(console.log(l.message),yield this._removeSession())}else this._removeSession();else n?(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}})}_callRefreshToken(e){var t;return e===void 0&&(e=(t=this.currentSession)===null||t===void 0?void 0:t.refresh_token),Ie(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:n,error:r}=yield this.api.refreshAccessToken(e);if(r)throw r;if(!n)throw Error("Invalid session data.");return this._saveSession(n),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:n,error:null}}catch(n){return{data:null,error:n}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(t=>t.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const n=Math.round(Date.now()/1e3),r=t-n,i=r>60?60:.5;this._startAutoRefreshToken((r-i)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};rt()&&this.localStorage.setItem(Dt,JSON.stringify(t))}_removeSession(){return Ie(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),rt()&&(yield this.localStorage.removeItem(Dt))})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!rt()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var t;if(e.key===Dt){const n=JSON.parse(String(e.newValue));!((t=n==null?void 0:n.currentSession)===null||t===void 0)&&t.access_token?(this._recoverAndRefresh(),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}}class pi extends di{constructor(e){super(e)}}var mi=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};class Nn{constructor(e){Object.assign(this,e);let t;e.fetch?t=e.fetch:typeof fetch=="undefined"?t=an:t=fetch,this.fetch=(...n)=>t(...n),this.shouldThrowOnError=e.shouldThrowOnError||!1}throwOnError(e){return e==null&&(e=!0),this.shouldThrowOnError=e,this}then(e,t){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(r=>mi(this,void 0,void 0,function*(){var i,l,o;let a=null,c=null,u=null;if(r.ok){const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!m){const A=yield r.text();A&&(this.headers.Accept==="text/csv"?c=A:c=JSON.parse(A))}const _=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(o=r.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");_&&g&&g.length>1&&(u=parseInt(g[1]))}else{const m=yield r.text();try{a=JSON.parse(m)}catch{a={message:m}}if(a&&this.shouldThrowOnError)throw a}return{error:a,data:c,count:u,status:r.status,statusText:r.statusText,body:c}}));return this.shouldThrowOnError||(n=n.catch(r=>({error:{message:`FetchError: ${r.message}`,details:"",hint:"",code:r.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),n.then(e,t)}}class Un extends Nn{select(e="*"){let t=!1;const n=e.split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this}order(e,{ascending:t=!0,nullsFirst:n=!1,foreignTable:r}={}){const i=typeof r=="undefined"?"order":`${r}.order`,l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}.${n?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const n=typeof t=="undefined"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:n}={}){const r=typeof n=="undefined"?"offset":`${n}.offset`,i=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new Un(this);return e.then=(t,n)=>this.then(r=>{var i,l;return!((l=(i=r.error)===null||i===void 0?void 0:i.details)===null||l===void 0)&&l.includes("Results contain 0 rows")?t({error:null,data:null,count:r.count,status:200,statusText:"OK",body:null}):t(r)},n),e}csv(){return this.headers.Accept="text/csv",this}}class Et extends Un{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,n){return this.url.searchParams.append(`${e}`,`not.${t}.${n}`),this}or(e,{foreignTable:t}={}){const n=typeof t=="undefined"?"or":`${t}.or`;return this.url.searchParams.append(n,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const n=t.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r=null}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(`${e}`,`${i}fts${l}.${t}`),this}fts(e,t,{config:n}={}){const r=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`fts${r}.${t}`),this}plfts(e,t,{config:n}={}){const r=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`plfts${r}.${t}`),this}phfts(e,t,{config:n}={}){const r=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`phfts${r}.${t}`),this}wfts(e,t,{config:n}={}){const r=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`wfts${r}.${t}`),this}filter(e,t,n){return this.url.searchParams.append(`${e}`,`${t}.${n}`),this}match(e){return Object.keys(e).forEach(t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)}),this}}class Gs extends Nn{constructor(e,{headers:t={},schema:n,fetch:r,shouldThrowOnError:i}={}){super({fetch:r,shouldThrowOnError:i}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=n}select(e="*",{head:t=!1,count:n=null}={}){this.method="GET";let r=!1;const i=e.split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),t&&(this.method="HEAD"),new Et(this)}insert(e,{upsert:t=!1,onConflict:n,returning:r="representation",count:i=null}={}){this.method="POST";const l=[`return=${r}`];if(t&&l.push("resolution=merge-duplicates"),t&&n!==void 0&&this.url.searchParams.set("on_conflict",n),this.body=e,i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Et(this)}upsert(e,{onConflict:t,returning:n="representation",count:r=null,ignoreDuplicates:i=!1}={}){this.method="POST";const l=[`resolution=${i?"ignore":"merge"}-duplicates`,`return=${n}`];return t!==void 0&&this.url.searchParams.set("on_conflict",t),this.body=e,r&&l.push(`count=${r}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Et(this)}update(e,{returning:t="representation",count:n=null}={}){this.method="PATCH";const r=[`return=${t}`];return this.body=e,n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Et(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const n=[`return=${e}`];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Et(this)}}class _i extends Nn{constructor(e,{headers:t={},schema:n,fetch:r,shouldThrowOnError:i}={}){super({fetch:r,shouldThrowOnError:i}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=n}rpc(e,{head:t=!1,count:n=null}={}){return t?(this.method="HEAD",e&&Object.entries(e).forEach(([r,i])=>{this.url.searchParams.append(r,i)})):(this.method="POST",this.body=e),n&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${n}`:this.headers.Prefer=`count=${n}`),new Et(this)}}const gi="0.37.2",bi={"X-Client-Info":`postgrest-js/${gi}`};class vi{constructor(e,{headers:t={},schema:n,fetch:r,throwOnError:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},bi),t),this.schema=n,this.fetch=r,this.shouldThrowOnError=i}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new Gs(t,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:n=!1,count:r=null}={}){const i=`${this.url}/rpc/${e}`;return new _i(i,{headers:this.headers,schema:this.schema,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError}).rpc(t,{head:n,count:r})}}var he;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(he||(he={}));const Xn=(s,e,t={})=>{var n;const r=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,l)=>(i[l]=yi(l,s,e,r),i),{})},yi=(s,e,t,n)=>{const r=e.find(o=>o.name===s),i=r==null?void 0:r.type,l=t[s];return i&&!n.includes(i)?Ys(i,l):wn(l)},Ys=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return $i(e,t)}switch(s){case he.bool:return ki(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return wi(e);case he.json:case he.jsonb:return Ai(e);case he.timestamp:return Si(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return wn(e);default:return wn(e)}},wn=s=>s,ki=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},wi=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},Ai=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},$i=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,n=s[t];if(s[0]==="{"&&n==="}"){let i;const l=s.slice(1,t);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>Ys(e,o))}return s},Si=s=>typeof s=="string"?s.replace(" ","T"):s,Ei="websocket",Ti="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Ci=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Oi="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",ji=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Pi="1.0.34",Ri={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Ii="https://github.com/theturtle32/WebSocket-Node",Di={node:">=4.0.0"},Ni={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Ui={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Bi={verbose:!1},xi={test:"tape test/unit/*.js",gulp:"gulp"},Li="index",Mi={lib:"./lib"},Fi="lib/browser.js",Hi="Apache-2.0";var Ji={name:Ei,description:Ti,keywords:Ci,author:Oi,contributors:ji,version:Pi,repository:Ri,homepage:Ii,engines:Di,dependencies:Ni,devDependencies:Ui,config:Bi,scripts:xi,main:Li,directories:Mi,browser:Fi,license:Hi},qi=Ji.version,ft;if(typeof globalThis=="object")ft=globalThis;else try{ft=require("es5-ext/global")}catch{}finally{if(!ft&&typeof window!="undefined"&&(ft=window),!ft)throw new Error("Could not determine global this")}var Ft=ft.WebSocket||ft.MozWebSocket,Gi=qi;function zs(s,e){var t;return e?t=new Ft(s,e):t=new Ft(s),t}Ft&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(s){Object.defineProperty(zs,s,{get:function(){return Ft[s]}})});var Yi={w3cwebsocket:Ft?zs:null,version:Gi};const zi="1.7.2",Vi={"X-Client-Info":`realtime-js/${zi}`},Wi="1.0.0",Vs=1e4,Ki=1e3;var Bt;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Bt||(Bt={}));var de;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(de||(de={}));var Ae;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Ae||(Ae={}));var An;(function(s){s.websocket="websocket"})(An||(An={}));var ht;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ht||(ht={}));class Bn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Qi{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(e.slice(l,l+r));l=l+r;const a=n.decode(e.slice(l,l+i));l=l+i;const c=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:o,event:a,payload:c}}}class jt{constructor(e,t,n={},r=Vs){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel instanceof $n?this.channel.on(this.refEvent,e):this.channel.on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||(this.channel instanceof $n?this.channel.off(this.refEvent):this.channel.off(this.refEvent,{}))}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class $n{constructor(e,t={},n){this.topic=e,this.params=t,this.socket=n,this.bindings=[],this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new jt(this,Ae.join,this.params,this.timeout),this.rejoinTimer=new Bn(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=de.closed,this.socket.remove(this)}),this.onError(r=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.on(Ae.reply,(r,i)=>{this.trigger(this.replyEventName(i),r)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(Ae.close,e)}onError(e){this.on(Ae.error,t=>e(t))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter(t=>t.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new jt(this,e,t,n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(Ae.close,"leave",this.joinRef())};this.joinPush.destroy();let n=new jt(this,Ae.leave,{},e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}trigger(e,t,n){let{close:r,error:i,leave:l,join:o}=Ae;if(n&&[r,i,l,o].indexOf(e)>=0&&n!==this.joinRef())return;let c=this.onMessage(e,t,n);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(u=>u.event==="*"?e===(t==null?void 0:t.type):u.event===e).map(u=>u.callback(c,n))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===de.closed}isErrored(){return this.state===de.errored}isJoined(){return this.state===de.joined}isJoining(){return this.state===de.joining}isLeaving(){return this.state===de.leaving}}class Tt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel.on(n.state,{},r=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel.joinRef(),this.state=Tt.syncState(this.state,r,i,l),this.pendingDiffs.forEach(a=>{this.state=Tt.syncDiff(this.state,a,i,l)}),this.pendingDiffs=[],o()}),this.channel.on(n.diff,{},r=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Tt.syncDiff(this.state,r,i,l),o())})}static syncState(e,t,n,r){const i=this.cloneDeep(e),l=this.transformState(t),o={},a={};return this.map(i,(c,u)=>{l[c]||(a[c]=u)}),this.map(l,(c,u)=>{const d=i[c];if(d){const m=u.map(y=>y.presence_id),_=d.map(y=>y.presence_id),g=u.filter(y=>_.indexOf(y.presence_id)<0),A=d.filter(y=>m.indexOf(y.presence_id)<0);g.length>0&&(o[c]=g),A.length>0&&(a[c]=A)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(o,a)=>{const c=e[o];if(e[o]=this.cloneDeep(a),c){const u=e[o].map(m=>m.presence_id),d=c.filter(m=>u.indexOf(m.presence_id)<0);e[o].unshift(...d)}n(o,c,a)}),this.map(l,(o,a)=>{let c=e[o];if(!c)return;const u=a.map(d=>d.presence_id);c=c.filter(d=>u.indexOf(d.presence_id)<0),e[o]=c,r(o,c,a),c.length===0&&delete e[o]}),e}static list(e,t){return t||(t=(n,r)=>r),this.map(e,(n,r)=>t(n,r))}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return"metas"in r?t[n]=r.metas.map(i=>(i.presence_id=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}list(e){return Tt.list(this.state,e)}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}class sn{constructor(e,t={},n){this.topic=e,this.params=t,this.socket=n,this.bindings=[],this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new jt(this,Ae.join,this.params,this.timeout),this.rejoinTimer=new Bn(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=de.closed,this.socket.remove(this)}),this.onError(r=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.on(Ae.reply,{},(r,i)=>{this.trigger(this.replyEventName(i),r)}),this.presence=new Tt(this)}list(){return this.presence.list()}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const t=this.bindings.reduce((n,r)=>{const{type:i}=r;return["phx_close","phx_error","phx_reply","presence_diff","presence_state"].includes(i)||(n[i]=r),n},{});return Object.keys(t).length&&this.updateJoinPayload({configs:t}),this.joinedOnce=!0,this.rejoin(e),this.joinPush}}onClose(e){this.on(Ae.close,{},e)}onError(e){this.on(Ae.error,{},t=>e(t))}on(e,t,n){this.bindings.push({type:e,filter:t!=null?t:{},callback:n!=null?n:()=>{}})}off(e,t){this.bindings=this.bindings.filter(n=>!(n.type===e&&sn.isEqual(n.filter,t)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new jt(this,e,t,n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(Ae.close,"leave",this.joinRef())};this.joinPush.destroy();const n=new jt(this,Ae.leave,{},e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}trigger(e,t,n){const{close:r,error:i,leave:l,join:o}=Ae;if(n&&[r,i,l,o].indexOf(e)>=0&&n!==this.joinRef())return;const c=this.onMessage(e,t,n);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(u=>{var d,m;return(u==null?void 0:u.type)===e&&(((d=u==null?void 0:u.filter)===null||d===void 0?void 0:d.event)==="*"||((m=u==null?void 0:u.filter)===null||m===void 0?void 0:m.event)===(t==null?void 0:t.event))}).map(u=>u.callback(c,n))}send(e){const t=this.push(e.type,e);return new Promise((n,r)=>{t.receive("ok",()=>n("ok")),t.receive("timeout",()=>r("timeout"))})}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===de.closed}isErrored(){return this.state===de.errored}isJoined(){return this.state===de.joined}isJoining(){return this.state===de.joining}isLeaving(){return this.state===de.leaving}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}}var Xi=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})},Zi=globalThis&&globalThis.__rest||function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};const el=()=>{};class tl{constructor(e,t){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Vi,this.params={},this.timeout=Vs,this.transport=Yi.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=el,this.conn=null,this.sendBuffer=[],this.serializer=new Qi,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${An.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),t!=null&&t.longpollerTimeout&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(n,r)=>r(JSON.stringify(n)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bn(()=>Xi(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise((n,r)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),n({error:null,data:!0})}catch(i){n({error:i,data:!1})}})}log(e,t,n){this.logger(e,t,n)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case Bt.connecting:return ht.Connecting;case Bt.open:return ht.Open;case Bt.closing:return ht.Closing;default:return ht.Closed}}isConnected(){return this.connectionState()===ht.Open}remove(e){this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}channel(e,t={}){var n;const{selfBroadcast:r}=t,i=Zi(t,["selfBroadcast"]);r&&(i.self_broadcast=r);const l=!((n=this.params)===null||n===void 0)&&n.vsndate?new sn(e,i,this):new $n(e,i,this);return l instanceof sn&&(l.presence.onJoin((o,a,c)=>{l.trigger("presence",{event:"JOIN",key:o,currentPresences:a,newPresences:c})}),l.presence.onLeave((o,a,c)=>{l.trigger("presence",{event:"LEAVE",key:o,currentPresences:a,leftPresences:c})}),l.presence.onSync(()=>{l.trigger("presence",{event:"SYNC"})})),this.channels.push(l),l}push(e){const{topic:t,event:n,payload:r,ref:i}=e;let l=()=>{this.encode(e,o=>{var a;(a=this.conn)===null||a===void 0||a.send(o)})};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?l():this.sendBuffer.push(l)}onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:r,payload:i,ref:l}=t;(l&&l===this.pendingHeartbeatRef||r===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${l&&"("+l+")"||""}`,i),this.channels.filter(o=>o.isMember(n)).forEach(o=>o.trigger(r,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wi}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({user_token:e}),t.joinedOnce&&t.isJoined()&&t.push(Ae.access_token,{access_token:e})})}leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n.isJoined()||n.isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(Ae.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ki,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class nl{constructor(e,t,n,r){const i={},l=r==="*"?`realtime:${n}`:`realtime:${n}:${r}`,o=t.Authorization.split(" ")[1];o&&(i.user_token=o),this.subscription=e.channel(l,i)}getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Xn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Xn(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,n=>{let r={schema:n.schema,table:n.table,commit_timestamp:n.commit_timestamp,eventType:n.type,new:{},old:{},errors:n.errors};r=Object.assign(Object.assign({},r),this.getPayloadRecords(n)),t(r)}),this}subscribe(e=()=>{}){return this.subscription.onError(t=>e("SUBSCRIPTION_ERROR",t)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",t=>e("SUBSCRIPTION_ERROR",t)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class sl extends Gs{constructor(e,{headers:t={},schema:n,realtime:r,table:i,fetch:l,shouldThrowOnError:o}){super(e,{headers:t,schema:n,fetch:l,shouldThrowOnError:o}),this._subscription=null,this._realtime=r,this._headers=t,this._schema=n,this._table=i}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new nl(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,t)}}const rl="0.0.0",il={"X-Client-Info":`storage-js/${rl}`};var qt=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};const ll=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),ol=(s,e)=>{if(typeof s.json!="function")return e(s);s.json().then(t=>e({message:ll(t),status:(s==null?void 0:s.status)||500}))},al=(s,e,t,n)=>{const r={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),t))};function cn(s,e,t,n,r,i){return qt(this,void 0,void 0,function*(){return new Promise((l,o)=>{s(t,al(e,n,r,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?l(a):a.json()}).then(a=>l(a)).catch(a=>ol(a,o))})})}function Sn(s,e,t,n){return qt(this,void 0,void 0,function*(){return cn(s,"GET",e,t,n)})}function dt(s,e,t,n,r){return qt(this,void 0,void 0,function*(){return cn(s,"POST",e,n,r,t)})}function cl(s,e,t,n,r){return qt(this,void 0,void 0,function*(){return cn(s,"PUT",e,n,r,t)})}function Ws(s,e,t,n,r){return qt(this,void 0,void 0,function*(){return cn(s,"DELETE",e,n,r,t)})}const Ks=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=an:e=fetch,(...t)=>e(...t)};var $t=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};class ul{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},il),t),this.fetch=Ks(n)}listBuckets(){return $t(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}createBucket(e,t={public:!1}){return $t(this,void 0,void 0,function*(){try{return{data:(yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(n){return{data:null,error:n}}})}updateBucket(e,t){return $t(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}emptyBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}deleteBucket(e){return $t(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}}var Qe=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};const fl={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dl{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Ks(r)}uploadOrUpdate(e,t,n,r){return Qe(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},hl),r),o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),i.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl)):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType);const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),u=yield this.fetch(`${this.url}/object/${c}`,{method:e,body:i,headers:o});if(u.ok)return{data:{Key:c},error:null};{const d=yield u.json();return{data:null,error:d}}}catch(i){return{data:null,error:i}}})}upload(e,t,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}update(e,t,n){return Qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t){return Qe(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}copy(e,t){return Qe(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}createSignedUrl(e,t){return Qe(this,void 0,void 0,function*(){try{const n=this._getFinalPath(e);let r=yield dt(this.fetch,`${this.url}/object/sign/${n}`,{expiresIn:t},{headers:this.headers});const i=`${this.url}${r.signedURL}`;return r={signedURL:i},{data:r,error:null,signedURL:i}}catch(n){return{data:null,error:n,signedURL:null}}})}createSignedUrls(e,t){return Qe(this,void 0,void 0,function*(){try{return{data:(yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers})).map(r=>Object.assign(Object.assign({},r),{signedURL:r.signedURL?`${this.url}${r.signedURL}`:null})),error:null}}catch(n){return{data:null,error:n}}})}download(e){return Qe(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield Sn(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){return{data:null,error:t}}})}getPublicUrl(e){try{const t=this._getFinalPath(e),n=`${this.url}/object/public/${t}`;return{data:{publicURL:n},error:null,publicURL:n}}catch(t){return{data:null,error:t,publicURL:null}}}remove(e){return Qe(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}list(e,t,n){return Qe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},fl),t),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){return{data:null,error:r}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class pl extends ul{constructor(e,t={},n){super(e,t,n)}from(e){return new dl(this.url,this.headers,e,this.fetch)}}const ml=s=>{let e;return s?e=s:typeof fetch=="undefined"?e=an:e=fetch,(...t)=>e(...t)};var _l=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};class gl{constructor(e,{headers:t={},customFetch:n}={}){this.url=e,this.headers=t,this.fetch=ml(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t){return _l(this,void 0,void 0,function*(){try{const{headers:n,body:r}=t!=null?t:{},i=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign({},this.headers,n),body:r}),l=i.headers.get("x-relay-error");if(l&&l==="true")return{data:null,error:new Error(yield i.text())};let o;const{responseType:a}=t!=null?t:{};return!a||a==="json"?o=yield i.json():a==="arrayBuffer"?o=yield i.arrayBuffer():a==="blob"?o=yield i.blob():o=yield i.text(),{data:o,error:null}}catch(n){return{data:null,error:n}}})}}var Qt=globalThis&&globalThis.__awaiter||function(s,e,t,n){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(d){l(d)}}function a(u){try{c(n.throw(u))}catch(d){l(d)}}function c(u){u.done?i(u.value):r(u.value).then(o,a)}c((n=n.apply(s,e||[])).next())})};const bl={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:qs};class vl{constructor(e,t,n){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const r=zr(e),i=Object.assign(Object.assign({},bl),n);if(this.restUrl=`${r}/rest/v1`,this.realtimeUrl=`${r}/realtime/v1`.replace("http","ws"),this.authUrl=`${r}/auth/v1`,this.storageUrl=`${r}/storage/v1`,r.match(/(supabase\.co)|(supabase\.in)/)){const o=r.split(".");this.functionsUrl=`${o[0]}.functions.${o[1]}.${o[2]}`}else this.functionsUrl=`${r}/functions/v1`;this.schema=i.schema,this.multiTab=i.multiTab,this.fetch=i.fetch,this.headers=Object.assign(Object.assign({},qs),n==null?void 0:n.headers),this.shouldThrowOnError=i.shouldThrowOnError||!1,this.auth=this._initSupabaseAuthClient(i),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},i.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get functions(){return new gl(this.functionsUrl,{headers:this._getAuthHeaders(),customFetch:this.fetch})}get storage(){return new pl(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const t=`${this.restUrl}/${e}`;return new sl(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch,shouldThrowOnError:this.shouldThrowOnError})}rpc(e,t,{head:n=!1,count:r=null}={}){return this._initPostgRESTClient().rpc(e,t,{head:n,count:r})}channel(e,t){var n,r;const i=(r=(n=this.auth.session())===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey;return this.realtime.isConnected()||this.realtime.connect(),this.realtime.channel(e,Object.assign(Object.assign({},t),{user_token:i}))}removeAllSubscriptions(){return Qt(this,void 0,void 0,function*(){const e=this.getSubscriptions().slice(),t=e.map(r=>this.removeSubscription(r));return(yield Promise.all(t)).map(({error:r},i)=>({data:{subscription:e[i]},error:r}))})}removeChannel(e){return Qt(this,void 0,void 0,function*(){const{error:t}=yield this._closeSubscription(e),n=this.getSubscriptions(),r=n.filter(i=>i.isJoined()).length;return n.length===0&&(yield this.realtime.disconnect()),{data:{openChannels:r},error:t}})}removeSubscription(e){return Qt(this,void 0,void 0,function*(){const{error:t}=yield this._closeSubscription(e),n=this.getSubscriptions(),r=n.filter(i=>i.isJoined()).length;return n.length===0&&(yield this.realtime.disconnect()),{data:{openSubscriptions:r},error:t}})}_closeSubscription(e){return Qt(this,void 0,void 0,function*(){let t=null;if(!e.isClosed()){const{error:n}=yield this._unsubscribeSubscription(e);t=n}return this.realtime.remove(e),{error:t}})}_unsubscribeSubscription(e){return new Promise(t=>{e.unsubscribe().receive("ok",()=>t({error:null})).receive("error",n=>t({error:n})).receive("timeout",()=>t({error:new Error("timed out")}))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,localStorage:r,headers:i,fetch:l,cookieOptions:o,multiTab:a}){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pi({url:this.authUrl,headers:Object.assign(Object.assign({},i),c),autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,localStorage:r,fetch:l,cookieOptions:o,multiTab:a})}_initRealtimeClient(e){return new tl(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new vi(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch,throwOnError:this.shouldThrowOnError})}_getAuthHeaders(){var e,t;const n=Object.assign({},this.headers),r=(t=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey;return n.apikey=this.supabaseKey,n.Authorization=n.Authorization||`Bearer ${r}`,n}_listenForMultiTabEvents(){if(!this.multiTab||!Vr()||!(window!=null&&window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var t,n,r;if(e.key===Yr){const i=JSON.parse(String(e.newValue)),l=(n=(t=i==null?void 0:i.currentSession)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:void 0,o=(r=this.auth.session())===null||r===void 0?void 0:r.access_token;l?!o&&l?this._handleTokenChanged("SIGNED_IN",l,"STORAGE"):o!==l&&this._handleTokenChanged("TOKEN_REFRESHED",l,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",l,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,n==null?void 0:n.access_token,"CLIENT")});return e}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t),n=="STORAGE"&&this.auth.setAuth(t),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut())}}const yl=(s,e,t)=>new vl(s,e,t),We=yl("https://xfcfjwsobkcneeqbvijr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYxODY4MzExMSwiZXhwIjoxOTM0MjU5MTExfQ.uTJ0LQOkIML2JnavZEF2G1HpN_b2wDYiRculRmrBe4A"),Qs=async s=>{let e=s,t=We.from("bb_classics").select("*");e&&e.id?t=t.eq("id",e.id).single():e&&e.tags&&(t=t.eq("tags",e.tags)),t=t.order(e.od1?"id":"titel",{ascending:!e.od2});let{data:n,error:r}=await t;if(n)return n;throw new Error(r,n)},kl=async s=>{let e=s,t=We.from("south_park_season").select("*");e&&(t=t.eq("id",e).single()),t=t.order("id",{ascending:!0});let{data:n,error:r}=await t;if(n)return n;throw new Error(r,n)},Gt=async s=>{let e=s,t=We.from("south_park").select("*");e&&e.id?t=t.eq("id",e.id).single():e&&e.st&&(t=t.eq("st",e.st)),t=t.order("st",{ascending:!e.od1}).order("ep",{ascending:!e.od2});let{data:n,error:r}=await t;if(n)return n;throw new Error(r,n)};function un(s=1e3){return new Promise(e=>setTimeout(e,s))}const Yt=[{id:0,slug:"start",head:{titel:"Nwp-Studio",sub:"Startseite",bg:"https://nwp-cgn.de/img/poser/imgA02.png"},link:{path:"/",name:"Start",icon:"home",sub:!1},navi:[{path:"/serien",name:"Serien"},{path:"/studio",name:"Studio"}]},{id:1,slug:"serien",head:{titel:"Nwp-Studio",sub:"South Park Collection",bg:"https://nwp-cgn.de/img/poser/imgA04.png"},link:{path:"/serien",name:"Serien",icon:"database",sub:!1},navi:[{path:"/serien",name:"Serien"},{path:"/serien/list",name:"Episoden"},{path:"/serien/editor",name:"Editor"},{path:"/serien/add",name:"Add"}]},{id:2,slug:"studio",head:{titel:"Blackburn",sub:"Classic Collection",bg:"https://nwp-cgn.de/img/poser/imgA05.png"},link:{path:"/studio",name:"Studio",icon:"film",sub:!1},navi:[]},{id:3,slug:"serien",head:{titel:"South Park Collection",sub:"Episoden Liste"},link:{path:"/serien/list",name:"Episoden Liste",icon:"database",sub:!0},navi:[]},{id:4,slug:"serien",head:{titel:"South Park Collection",sub:"Episoden Editor"},link:{path:"/serien/editor",name:"Episoden Editor",icon:"database",sub:!0},navi:[]},{id:5,slug:"serien",head:{titel:"South Park Collection",sub:"Add Episode"},link:{path:"/serien/add",name:"Add Episoden",icon:"database",sub:!0},navi:[]}];Yt.map(s=>s.head);Yt.map(s=>s.head);const Zn=Yt.map(s=>s.link);Yt.map(s=>s.head);const Ut=at({tags:null,od1:!1,od2:!1,edit:!1});function wl(){const{subscribe:s,set:e,update:t}=at([]);return{subscribe:s,fetchAll:()=>{const n=Gt();e(n)}}}const Xs=wl(),pt=at({st:null,od1:!1,od2:!1,edit:!1}),Pt=at(null);function es(s){let e,t,n;return{c(){e=p("a"),e.textContent="Back",f(e,"href","/"),f(e,"class","btn shadow")},m(r,i){E(r,e,i),t||(n=X(e,"click",Tn(s[6])),t=!0)},p:T,d(r){r&&S(e),t=!1,n()}}}function Al(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g=s[2]&&es(s);const A=s[5].default,y=Fe(A,s,s[4],null);let b=[s[3]],D={};for(let k=0;k<b.length;k+=1)D=oe(D,b[k]);return{c(){e=p("header"),t=p("hgroup"),n=p("h2"),r=J(s[0]),i=$(),l=p("h4"),o=J(s[1]),a=$(),c=p("p"),g&&g.c(),u=$(),y&&y.c(),d=$(),m=p("hr"),f(c,"class","space-x-2"),f(t,"class","space-y-4 py-4"),$e(e,D),te(e,"svelte-15pq47i",!0)},m(k,C){E(k,e,C),h(e,t),h(t,n),h(n,r),h(t,i),h(t,l),h(l,o),h(t,a),h(t,c),g&&g.m(c,null),h(c,u),y&&y.m(c,null),E(k,d,C),E(k,m,C),_=!0},p(k,[C]){(!_||C&1)&&ue(r,k[0]),(!_||C&2)&&ue(o,k[1]),k[2]?g?g.p(k,C):(g=es(k),g.c(),g.m(c,u)):g&&(g.d(1),g=null),y&&y.p&&(!_||C&16)&&Je(y,A,k,k[4],_?He(A,k[4],C,null):qe(k[4]),null),$e(e,D=Ce(b,[C&8&&k[3]])),te(e,"svelte-15pq47i",!0)},i(k){_||(j(y,k),_=!0)},o(k){I(y,k),_=!1},d(k){k&&S(e),g&&g.d(),y&&y.d(k),k&&S(d),k&&S(m)}}}function $l(s,e,t){const n=["titel","sub","btn"];let r=ve(e,n),{$$slots:i={},$$scope:l}=e,{titel:o="Page Titel"}=e,{sub:a="Sub Heading"}=e,{btn:c=!1}=e;const u=()=>history.back();return s.$$set=d=>{e=oe(oe({},e),Ze(d)),t(3,r=ve(e,n)),"titel"in d&&t(0,o=d.titel),"sub"in d&&t(1,a=d.sub),"btn"in d&&t(2,c=d.btn),"$$scope"in d&&t(4,l=d.$$scope)},[o,a,c,r,l,i,u]}class Zs extends ie{constructor(e){super(),re(this,e,$l,Al,ee,{titel:0,sub:1,btn:2})}}function er(s){const e=s-1;return e*e*e+1}function ts(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}function tt(s,{delay:e=0,duration:t=400,easing:n=Ht}={}){const r=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*r}`}}function Sl(s,{delay:e=0,duration:t=400,easing:n=er,x:r=0,y:i=0,opacity:l=0}={}){const o=getComputedStyle(s),a=+o.opacity,c=o.transform==="none"?"":o.transform,u=a*(1-l);return{delay:e,duration:t,easing:n,css:(d,m)=>`
			transform: ${c} translate(${(1-d)*r}px, ${(1-d)*i}px);
			opacity: ${a-u*m}`}}function ns(s){let e,t,n,r,i;return{c(){e=p("div"),f(e,"class","svelte-1ve5ckl")},m(l,o){E(l,e,o),n=!0,r||(i=X(e,"click",s[2]),r=!0)},p(l,o){s=l},i(l){n||(Le(()=>{t||(t=lt(e,tt,{duration:200,easing:ts},!0)),t.run(1)}),n=!0)},o(l){t||(t=lt(e,tt,{duration:200,easing:ts},!1)),t.run(0),n=!1},d(l){l&&S(e),l&&t&&t.end(),r=!1,i()}}}function El(s){let e,t,n=s[0]&&ns(s);return{c(){n&&n.c(),e=Oe()},m(r,i){n&&n.m(r,i),E(r,e,i),t=!0},p(r,[i]){r[0]?n?(n.p(r,i),i&1&&j(n,1)):(n=ns(r),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(_e(),I(n,1,1,()=>{n=null}),ge())},i(r){t||(j(n),t=!0)},o(r){I(n),t=!1},d(r){n&&n.d(r),r&&S(e)}}}function Tl(s,e,t){const n=Cn();let{open:r}=e;const i=()=>{t(0,r=!1),n("close","Close")};return s.$$set=l=>{"open"in l&&t(0,r=l.open)},[r,n,i]}class Cl extends ie{constructor(e){super(),re(this,e,Tl,El,ee,{open:0})}}function Ol(s){let e;return{c(){e=p("p"),e.textContent=`Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quo quis enim\r
        itaque voluptatum suscipit voluptatem deserunt explicabo officia\r
        excepturi eaque ipsa quidem vel exercitationem doloribus, laudantium\r
        doloremque fugiat consectetur maiores.`},m(t,n){E(t,e,n)},p:T,d(t){t&&S(e)}}}function jl(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g;const A=s[3].default,y=Fe(A,s,s[2],null),b=y||Ol();function D(C){s[4](C)}let k={};return s[0]!==void 0&&(k.open=s[0]),o=new Cl({props:k}),_t.push(()=>In(o,"open",D)),{c(){e=p("aside"),t=p("div"),b&&b.c(),n=$(),r=p("footer"),i=p("button"),i.textContent="Close",l=$(),Y(o.$$.fragment),c=$(),u=p("header"),d=p("button"),d.innerHTML='<i class="gg-menu-grid-o svelte-1k3jd0a"></i>',f(i,"class","btn shadow hover:btn-red"),f(r,"class","p-4 text-right"),f(t,"class","flex flex-col h-full justify-between overflow-x-hidden overflow-y-auto"),f(e,"class","fixed inset-y-0 left-0 w-64 z-30 overflow-hidden svelte-1k3jd0a"),te(e,"open",s[0]),f(d,"class","p-3"),f(u,"class","fixed top-1 right-2 z-20 bg-white bg-opacity-25 rounded-full")},m(C,w){E(C,e,w),h(e,t),b&&b.m(t,null),h(t,n),h(t,r),h(r,i),E(C,l,w),q(o,C,w),E(C,c,w),E(C,u,w),h(u,d),m=!0,_||(g=[X(i,"click",s[1]),X(d,"click",s[5])],_=!0)},p(C,[w]){y&&y.p&&(!m||w&4)&&Je(y,A,C,C[2],m?He(A,C[2],w,null):qe(C[2]),null),w&1&&te(e,"open",C[0]);const O={};!a&&w&1&&(a=!0,O.open=C[0],On(()=>a=!1)),o.$set(O)},i(C){m||(j(b,C),j(o.$$.fragment,C),m=!0)},o(C){I(b,C),I(o.$$.fragment,C),m=!1},d(C){C&&S(e),b&&b.d(C),C&&S(l),G(o,C),C&&S(c),C&&S(u),_=!1,ye(g)}}}function Pl(s,e,t){let{$$slots:n={},$$scope:r}=e,{open:i}=e;const l=()=>{t(0,i=!i)};function o(c){i=c,t(0,i)}const a=()=>t(0,i=!0);return s.$$set=c=>{"open"in c&&t(0,i=c.open),"$$scope"in c&&t(2,r=c.$$scope)},[i,l,r,n,o,a]}class xn extends ie{constructor(e){super(),re(this,e,Pl,jl,ee,{open:0})}}function Rl(s){let e,t,n,r;const i=s[3].default,l=Fe(i,s,s[2],null);let o=[s[1]],a={};for(let c=0;c<o.length;c+=1)a=oe(a,o[c]);return{c(){e=p("section"),t=p("div"),l&&l.c(),f(t,"class","svelte-19iblvv"),$e(e,a),te(e,"svelte-19iblvv",!0)},m(c,u){E(c,e,u),h(e,t),l&&l.m(t,null),r=!0},p(c,[u]){s=c,l&&l.p&&(!r||u&4)&&Je(l,i,s,s[2],r?He(i,s[2],u,null):qe(s[2]),null),$e(e,a=Ce(o,[u&2&&s[1]])),te(e,"svelte-19iblvv",!0)},i(c){r||(j(l,c),Le(()=>{n||(n=lt(e,tt,s[0],!0)),n.run(1)}),r=!0)},o(c){I(l,c),n||(n=lt(e,tt,s[0],!1)),n.run(0),r=!1},d(c){c&&S(e),l&&l.d(c),c&&n&&n.end()}}}const Il=400;function Dl(s,e,t){const n=[];let r=ve(e,n),{$$slots:i={},$$scope:l}=e;const o={duration:Il};return s.$$set=a=>{e=oe(oe({},e),Ze(a)),t(1,r=ve(e,n)),"$$scope"in a&&t(2,l=a.$$scope)},[o,r,l,i]}class Ln extends ie{constructor(e){super(),re(this,e,Dl,Rl,ee,{})}}function Nl(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g,A,y,b,D,k,C,w,O,U,R,M,z,Q,fe,K,v=[s[3]],P={};for(let N=0;N<v.length;N+=1)P=oe(P,v[N]);return{c(){e=p("header"),t=p("label"),n=p("span"),r=p("input"),i=$(),l=p("span"),o=p("i"),u=$(),d=p("label"),m=p("span"),_=p("input"),g=$(),A=p("span"),y=p("i"),k=$(),C=p("span"),w=$(),O=p("label"),U=p("span"),R=p("input"),M=$(),z=p("span"),z.innerHTML='<i class="gg-pen"></i>',f(r,"type","checkbox"),f(r,"class","checkbox hidden"),f(r,"id","c1"),f(o,"class",a=s[0]?"gg-space-between-v":"gg-space-between"),f(n,"class","py-2"),Se(n,"--ggs","1"),f(t,"for","c1"),f(t,"title",c=s[0]?"Titel":"Id"),f(t,"class","flex flex-col items-center justify-center self-center w-10 h-10 cursor-pointer bg-gray-50 rounded svelte-16iwt23"),f(_,"type","checkbox"),f(_,"class","checkbox hidden"),f(_,"id","c2"),f(y,"class",b=s[1]?"gg-arrow-up":"gg-arrow-down"),f(m,"class","py-2"),Se(m,"--ggs","1"),f(d,"for","c2"),f(d,"title",D=s[1]?"Desc":"Asc"),f(d,"class","flex flex-col items-center justify-center self-center w-10 h-10 cursor-pointer bg-gray-50 rounded svelte-16iwt23"),f(C,"class","flex-grow svelte-16iwt23"),f(R,"type","checkbox"),f(R,"class","checkbox hidden"),f(R,"id","c3"),f(U,"class","py-2"),Se(U,"--ggs","1"),f(O,"for","c3"),f(O,"class",Q="flex flex-col items-center justify-center self-center w-10 h-10 cursor-pointer rounded "+(s[2]?"bg-gray-50":"text-red-800 bg-red-50")+" svelte-16iwt23"),$e(e,P),te(e,"svelte-16iwt23",!0)},m(N,H){E(N,e,H),h(e,t),h(t,n),h(n,r),r.checked=s[0],h(n,i),h(n,l),h(l,o),h(e,u),h(e,d),h(d,m),h(m,_),_.checked=s[1],h(m,g),h(m,A),h(A,y),h(e,k),h(e,C),h(e,w),h(e,O),h(O,U),h(U,R),R.checked=s[2],h(U,M),h(U,z),fe||(K=[X(r,"change",s[4]),X(_,"change",s[5]),X(R,"change",s[6])],fe=!0)},p(N,[H]){H&1&&(r.checked=N[0]),H&1&&a!==(a=N[0]?"gg-space-between-v":"gg-space-between")&&f(o,"class",a),H&1&&c!==(c=N[0]?"Titel":"Id")&&f(t,"title",c),H&2&&(_.checked=N[1]),H&2&&b!==(b=N[1]?"gg-arrow-up":"gg-arrow-down")&&f(y,"class",b),H&2&&D!==(D=N[1]?"Desc":"Asc")&&f(d,"title",D),H&4&&(R.checked=N[2]),H&4&&Q!==(Q="flex flex-col items-center justify-center self-center w-10 h-10 cursor-pointer rounded "+(N[2]?"bg-gray-50":"text-red-800 bg-red-50")+" svelte-16iwt23")&&f(O,"class",Q),$e(e,P=Ce(v,[H&8&&N[3]])),te(e,"svelte-16iwt23",!0)},i:T,o:T,d(N){N&&S(e),fe=!1,ye(K)}}}function Ul(s,e,t){const n=[];let r=ve(e,n),i;Me(s,Ut,m=>t(7,i=m));let l=!1,o=!1,a=!1;l=i.od1,o=i.od2,a=i.edit;function c(){l=this.checked,t(0,l)}function u(){o=this.checked,t(1,o)}function d(){a=this.checked,t(2,a)}return s.$$set=m=>{e=oe(oe({},e),Ze(m)),t(3,r=ve(e,n))},s.$$.update=()=>{s.$$.dirty&7&&(ze(Ut,i.od1=l,i),ze(Ut,i.od2=o,i),ze(Ut,i.edit=a,i))},[l,o,a,r,c,u,d]}class Bl extends ie{constructor(e){super(),re(this,e,Ul,Nl,ee,{})}}function xl(s){let e;return{c(){e=p("div"),e.innerHTML='<i class="gg-spinner svelte-1ojar3c"></i>',f(e,"class","absolute flex flex-col inset-0 items-center justify-center text-7xl text-gray-400")},m(t,n){E(t,e,n)},p:T,i:T,o:T,d(t){t&&S(e)}}}class yt extends ie{constructor(e){super(),re(this,e,null,xl,ee,{})}}function ss(s,e,t){const n=s.slice();return n[5]=e[t].titel,n[6]=e[t].info,n[7]=e[t].tags,n[8]=e[t].screen,n[9]=e[t].fileurl,n[10]=e[t].thumb,n[11]=e[t].id,n}function Ll(s){return{c:T,m:T,p:T,i:T,o:T,d:T}}function Ml(s){let e,t,n=s[4],r=[];for(let l=0;l<n.length;l+=1)r[l]=is(ss(s,n,l));let i=null;return n.length||(i=rs()),{c(){e=p("section"),t=p("ul");for(let l=0;l<r.length;l+=1)r[l].c();i&&i.c(),f(t,"class","list-none divide-y"),f(e,"class","bg-white flex flex-col py-4 space-y-4")},m(l,o){E(l,e,o),h(e,t);for(let a=0;a<r.length;a+=1)r[a].m(t,null);i&&i.m(t,null)},p(l,o){if(o&1){n=l[4];let a;for(a=0;a<n.length;a+=1){const c=ss(l,n,a);r[a]?r[a].p(c,o):(r[a]=is(c),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length,!n.length&&i?i.p(l,o):n.length?i&&(i.d(1),i=null):(i=rs(),i.c(),i.m(t,null))}},i:T,o:T,d(l){l&&S(e),ot(r,l),i&&i.d()}}}function rs(s){let e;return{c(){e=p("li"),e.textContent="... loading"},m(t,n){E(t,e,n)},p:T,d(t){t&&S(e)}}}function is(s){let e,t,n,r,i=s[5]+"",l,o,a,c=s[6]+"",u,d,m,_,g=(s[7]?s[7]:"Blackburn")+"",A,y,b=(s[11]<=9?`0${s[11]}`:s[11])+"",D,k,C,w,O,U;return{c(){e=p("li"),t=p("a"),n=p("div"),r=p("span"),l=J(i),o=$(),a=p("span"),u=J(c),d=$(),m=p("div"),_=p("span"),A=J(g),y=J(" / "),D=J(b),w=$(),f(r,"class","text-lg font-medium"),f(a,"class","text-sm text-gray-400 font-thin italic"),f(n,"class","flex flex-col"),f(_,"class","text-sm capitalize"),f(t,"href",k="/studio/"+s[11]),f(t,"class","flex justify-between py-2 px-2")},m(R,M){E(R,e,M),h(e,t),h(t,n),h(n,r),h(r,l),h(n,o),h(n,a),h(a,u),h(t,d),h(t,m),h(m,_),h(_,A),h(_,y),h(_,D),h(e,w),O||(U=De(C=Ne.call(null,t)),O=!0)},p(R,M){M&1&&i!==(i=R[5]+"")&&ue(l,i),M&1&&c!==(c=R[6]+"")&&ue(u,c),M&1&&g!==(g=(R[7]?R[7]:"Blackburn")+"")&&ue(A,g),M&1&&b!==(b=(R[11]<=9?`0${R[11]}`:R[11])+"")&&ue(D,b),M&1&&k!==(k="/studio/"+R[11])&&f(t,"href",k)},d(R){R&&S(e),O=!1,U()}}}function Fl(s){let e,t;return e=new yt({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Hl(s){let e,t,n,r,i;t=new Bl({props:{class:"py-4"}});let l={ctx:s,current:null,token:null,hasCatch:!1,pending:Fl,then:Ml,catch:Ll,value:4,blocks:[,,,]};return Ue(r=s[0],l),{c(){e=p("div"),Y(t.$$.fragment),n=$(),l.block.c(),f(e,"class","container mx-auto px-2")},m(o,a){E(o,e,a),q(t,e,null),h(e,n),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,i=!0},p(o,[a]){s=o,l.ctx=s,a&1&&r!==(r=s[0])&&Ue(r,l)||vt(l,s,a)},i(o){i||(j(t.$$.fragment,o),j(l.block),i=!0)},o(o){I(t.$$.fragment,o);for(let a=0;a<3;a+=1){const c=l.blocks[a];I(c)}i=!1},d(o){o&&S(e),G(t),l.block.d(),l.token=null,l=null}}}function Jl(s,e,t){let n;Me(s,Ut,o=>t(1,n=o));let r,i=[];const l=o=>{let a={};return o&&(a=o),Qs(a).then(c=>{i=c}).then(()=>i)};return s.$$.update=()=>{s.$$.dirty&2&&t(0,r=l(n))},[r,n]}class ql extends ie{constructor(e){super(),re(this,e,Jl,Hl,ee,{})}}function ls(s,e,t){const n=s.slice();return n[5]=e[t],n}function Gl(s){return{c:T,m:T,p:T,i:T,o:T,d:T}}function Yl(s){let e,t,n,r=Object.keys(s[4]).length+"",i,l,o,a,c,u,d,m,_,g=s[4].titel+"",A,y,b,D=s[4].info+"",k,C,w,O=s[4].tags+"",U,R,M,z,Q,fe=(s[4].st?s[4].st:"")+"",K,v,P,N,H=(s[4].ep?s[4].ep:"")+"",F,B,V,x=(s[4].tags?s[4].tags:"SouthPark")+"",le,ne=Object.keys(s[4]),ce=[];for(let se=0;se<ne.length;se+=1)ce[se]=os(ls(s,ne,se));return{c(){e=p("section"),t=p("div"),n=J("Obj with "),i=J(r),l=J(" Aguments"),o=$(),a=p("div");for(let se=0;se<ce.length;se+=1)ce[se].c();c=$(),u=p("div"),d=$(),m=p("hgroup"),_=p("h4"),A=J(g),y=$(),b=p("h5"),k=J(D),C=$(),w=p("h5"),U=J(O),R=$(),M=p("ul"),z=p("li"),Q=J("Season : "),K=J(fe),v=$(),P=p("li"),N=J("Episode: "),F=J(H),B=$(),V=p("li"),le=J(x),f(u,"class","py-4"),f(V,"class","italic"),f(m,"class","space-y-2 py-4"),f(e,"class","bg-white flex flex-col py-2 space-y-2")},m(se,Z){E(se,e,Z),h(e,t),h(t,n),h(t,i),h(t,l),h(e,o),h(e,a);for(let ae=0;ae<ce.length;ae+=1)ce[ae].m(a,null);h(e,c),h(e,u),h(e,d),h(e,m),h(m,_),h(_,A),h(m,y),h(m,b),h(b,k),h(m,C),h(m,w),h(w,U),h(m,R),h(m,M),h(M,z),h(z,Q),h(z,K),h(M,v),h(M,P),h(P,N),h(P,F),h(M,B),h(M,V),h(V,le)},p(se,Z){if(Z&1&&r!==(r=Object.keys(se[4]).length+"")&&ue(i,r),Z&1){ne=Object.keys(se[4]);let ae;for(ae=0;ae<ne.length;ae+=1){const Ge=ls(se,ne,ae);ce[ae]?ce[ae].p(Ge,Z):(ce[ae]=os(Ge),ce[ae].c(),ce[ae].m(a,null))}for(;ae<ce.length;ae+=1)ce[ae].d(1);ce.length=ne.length}Z&1&&g!==(g=se[4].titel+"")&&ue(A,g),Z&1&&D!==(D=se[4].info+"")&&ue(k,D),Z&1&&O!==(O=se[4].tags+"")&&ue(U,O),Z&1&&fe!==(fe=(se[4].st?se[4].st:"")+"")&&ue(K,fe),Z&1&&H!==(H=(se[4].ep?se[4].ep:"")+"")&&ue(F,H),Z&1&&x!==(x=(se[4].tags?se[4].tags:"SouthPark")+"")&&ue(le,x)},i:T,o:T,d(se){se&&S(e),ot(ce,se)}}}function os(s){let e,t=s[5]+"",n,r;return{c(){e=p("span"),n=J(t),r=J(", ")},m(i,l){E(i,e,l),h(e,n),h(e,r)},p(i,l){l&1&&t!==(t=i[5]+"")&&ue(n,t)},d(i){i&&S(e)}}}function zl(s){let e,t;return e=new yt({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Vl(s){let e,t,n,r={ctx:s,current:null,token:null,hasCatch:!1,pending:zl,then:Yl,catch:Gl,value:4,blocks:[,,,]};return Ue(t=s[0],r),{c(){e=p("div"),r.block.c(),f(e,"class","container mx-auto px-2")},m(i,l){E(i,e,l),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(i,[l]){s=i,r.ctx=s,l&1&&t!==(t=s[0])&&Ue(t,r)||vt(r,s,l)},i(i){n||(j(r.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const o=r.blocks[l];I(o)}n=!1},d(i){i&&S(e),r.block.d(),r.token=null,r=null}}}function Wl(s,e,t){let n,{params:r}=e,i=[];const l=o=>{let a={};return o&&(a.id=o),Qs(a).then(c=>{i=c}).then(()=>i)};return s.$$set=o=>{"params"in o&&t(1,r=o.params)},s.$$.update=()=>{s.$$.dirty&2&&t(0,n=l(r.id?r.id:null))},[n,r]}class Kl extends ie{constructor(e){super(),re(this,e,Wl,Vl,ee,{params:1})}}function Ql(s,{from:e,to:t},n={}){const r=getComputedStyle(s),i=r.transform==="none"?"":r.transform,[l,o]=r.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*l/t.width-(t.left+l),c=e.top+e.height*o/t.height-(t.top+o),{delay:u=0,duration:d=_=>Math.sqrt(_)*120,easing:m=er}=n;return{delay:u,duration:gt(d)?d(Math.sqrt(a*a+c*c)):d,easing:m,css:(_,g)=>{const A=g*a,y=g*c,b=_+g*e.width/t.width,D=_+g*e.height/t.height;return`transform: ${i} translate(${A}px, ${y}px) scale(${b}, ${D});`}}}function Xl(s){let e;return{c(){e=p("div"),e.innerHTML='<img class="img svelte-vmn3wy" alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJ7SURBVGje1ZpBS+NAFMcFFvYbLHvavSzsfXc7iixQkyp6UkEFEQFRQBAEwYseFbwIHr0pCKoCfgTvfgsRURErok2miSlmnAnYqFNrM/m/tik8eLxC8/81mffevEmHEKIjy0Z7gXz+ixj49TVzAKWef79dix27NvOlVRybnXCr608mAByLWVI0lybeWeDYnSNtDVBH/ItV0BDNFE8C0WzxcIhWiIdCtEo8DKKV4iEQrRafGqIdxKeCaBfxxhAk4r3lBfH+o2IUECT/vLc4pwPIGMWdIHlsvPkZHUDGKB4nkme+PDupAagYxZogWbDlqTEdQMYoFjZJtuETQxqAilFkJ5JUyUcHdAAZo0ixJHmeD9o6gIxR1Imq41ndP7nNHEhB6v+vAagYqNgFr7enVQDX7jxEVlURhrF66SN/W+2xawCwayiA78cA0ke3HC/TjtcA58iLhKVSfAOkDwbwo5HNG4BCbhsKcFuMAaQPBbDYsfYIOX3d3+SXRRjA1UUMIH0gAFdzp5ppVK1ut8DuEBd6OjutAigfJV6l+rqFDAXBh3uj4hWZ9CnEf9hKIO8E1T//aTOXFoKP9IvHrU0R7G6L8vQ4ifhP22lTCNU2hMWbuA5UKqbtdF3xDW1oTCD8lSWtlQgOduDiG95SJoUoz4y/bSVUMV5fhYtPtKlPCuFvrInw5lqED/ciONoXbqELLj7xWKUJ2SmReKPBFiFEYvHGo0UCCCPxqYa7QAhj8anH6wCIVOIhBxwpIFKLhx0xGUBAxEMP+RJAwMTDj1kbgICKJznojiBq7OzUyAYtnuxVAzef+y5F77h27jIyi+15hb8/sveyR+bfVmmCPQM8dYEUu9LUBgAAAABJRU5ErkJggg=="/>',f(e,"class","notifier-img svelte-vmn3wy"),Se(e,"height","62px")},m(t,n){E(t,e,n)},p:T,i:T,o:T,d(t){t&&S(e)}}}class Zl extends ie{constructor(e){super(),re(this,e,null,Xl,ee,{})}}function eo(s){let e;return{c(){e=p("div"),e.innerHTML='<img class="img svelte-vmn3wy" alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAG5SURBVGje1Zq/SgNBEIev0NsTrSWVlvY2tmJjaeML5MUEQcEnsIqEPSJpfQZBEASbEAimGPdWJWfubv/O7s4WPzhYuPu+sHfZmd0CAIqcE/YB02IHHguWn8CMnQBnE5GVyBp4OYd69zQPAV5dCOilCGzlC+rymrbAMPxf1tgSMeGDSMSGR5dIAY8qkQoeTSIlPIpEanhvCQrwXhJU4J0lKME7SVCDt5agCG8lQRXeWIIyvJEEdXitRA7wSolc4AclNvBP1TFwtiAM36rsNuVp+9d/sLnRy90IxuNzmeYae1ydcg5dAfZuc5PmwWeXVzLNNfa4dir9djvaAq8ZCaxky+afQF3e5DOF2KQ7hZ4PDsXARwYv8VL2nXo/o83bzatP0vDNp175R0ZXogM/vJSgJ9ELr17M0ZEYhNcvp9NLKOHNCpp0Elp485IyvoQRvF1RH0/CGN6+rRJewgrerbEVTsIa3r21iC/hBO/X3MWTcIb3b6/7S3jB42xwuEt4w+NtMdlLoMDjbvKZS6DB42+z6iVQ4cNsdEuJ3spugQ0f7qjBdH8EvLwV0G8/qe5htneU32GP7E+rRMg3MP6CPWlQa4cAAAAASUVORK5CYII="/>',f(e,"class","notifier-img svelte-vmn3wy"),Se(e,"height","62px")},m(t,n){E(t,e,n)},p:T,i:T,o:T,d(t){t&&S(e)}}}class to extends ie{constructor(e){super(),re(this,e,null,eo,ee,{})}}function no(s){let e;return{c(){e=p("div"),e.innerHTML='<img class="img svelte-vmn3wy" alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIJSURBVGje7Zo/TsMwFMYzcQNWLoA4CBCrydCJiYGdCeUIDAi4AurWIalgJUs3EDsZkLhDF6Zg/Fx3II3/JHl2EivDk9o0sX9f+/z52W5AKQ3GHMEkwBcB5JkckzROSBYtwizKWRQsNiLgdQ6f8XvYvYMQcLaanZyn8T0D+2KAtEnAM/AstOFcAHkhR2EaPzGQsil4TZTQFrRpXcB8OT9gKXAbrmY/COD/g7UJbUMfVgScLueHrKM1Ovh+rKEvVAE817Po2wE8D+jLdGwYwQsnoY5jYyJCmzYuv/m6X0KXTsoB6yjntWNCNbDlVglu0z/8ds5gLI0EcJ+3YZVdLFYyT9QKEJOUU8jL1wv1PYzJSIBwndIl/M3bFX3/faB3n9fKGbvOlfYEQH3SB/wHfeShEgFsWgFtCjMseAh4L0snYFMKgDK3b3i4rnSkSiletc5kyPDCUhO5gO1iZLDwIo0WUgFiJTVYeBG5SkCB6t348BCFSoBx1Ql2ZwqACM+r1M4CAN4UBBleK6AwSRtTIAvw2hTKsfLZErx6EDexURWgRXi1jTadyGSgtuD1E1mLUqJOhC14bSnRtpiTiUCH1xVzXcrpqghseONyusuCZifCBrzxgqbrknLnQui1lOmS0otF/ei3VbzY2Br91qIXm7tebK97ccDhxRGTF4d83hyzenPQPf1XYhJAgz8nlTUIYahdJQAAAABJRU5ErkJggg=="/>',f(e,"class","notifier-img svelte-vmn3wy"),Se(e,"height","62px")},m(t,n){E(t,e,n)},p:T,i:T,o:T,d(t){t&&S(e)}}}class so extends ie{constructor(e){super(),re(this,e,null,no,ee,{})}}function ro(s){let e;return{c(){e=p("div"),e.innerHTML='<img class="img svelte-vmn3wy" alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFVSURBVGje7ZmxisJAEIaFewsf5N4g73B43ZHnuOL6O+648qpDjYqgWFlaWFqIYGFha4pgaSmsOzGRzYqJITOq5h/4YFmSmfnCkGYqSqkKN7+tQfW70fM0foRHdxK1ZJqv9wLdtEqg7yQk2AWiL08Nj7+a/WeCzpGIdw8CNDKKGo/vQom9gH8VAeflreq8up5Tc32NijkaE4P3n7+P+H06pz1r5gxrUC1dk0UgbL7mBlaRTIHP/+6WGifonEMgJjhHIltg/+VVXoE8nMpPtYsLGGMzmc2VGVwCZlANc5w4BA4J7WgPR4Wbpxx2WDXlBFbBupAEvUs5riYgFRCAAAQgAAEIXERgulgmeBgB+z4LCJR2hPAXggAE7lzgqbNJ8DAC9n0WECjtCOEvBAEIQAACpRA4ueCQCP4FR8qKSRyWFVPKkk8YniVf2ppVCN41660DAQgUZAeoKGcdsZTyhgAAAABJRU5ErkJggg=="/>',f(e,"class","notifier-img svelte-vmn3wy"),Se(e,"height","62px")},m(t,n){E(t,e,n)},p:T,i:T,o:T,d(t){t&&S(e)}}}class io extends ie{constructor(e){super(),re(this,e,null,ro,ee,{})}}function lo(s){let e;return{c(){e=p("div"),e.innerHTML='<img class="img svelte-vmn3wy" alt="img" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAK7SURBVGje7ZmxThtBEIYXuUiBItkNyQOksFL6GXgFXoSWNEh2heKHiOQmsSKDkAVKcY4FRYREkyDFchRFmAjFIDemX+Y/Doe727vbnRsbOLkYY5ndmfl2Z2dnd5XWWj1nUUuAJcATAVAfvTeq3dtU7a8t1e579HdAMg1kEPzW8ttQ2ycBQI68JqfqJGck2lHO/L6kY+EAavfoJY3oNjlww3A8Kje+LtK5EAD1qbdBRscCjkdlDN1zA6CPlSBcjA68+NzX696pbn7/pfd/j/TJxaUeXV37gu/4Df9DG7RNAanDliiA+nC4Soo7JoOv9o71e3LsnBydTCZWgrbog74JEB3YFAEIRr5jGvGt05/6r4PjUUFf6EiYkY7NTGQDGMJmjUbuy5+LTAcVqYdktYOuNfNs1HMBBAs2pPTtwTf94/Kf1QjbAkCgE7pjEBkLOyNVhrMNRsnWeVeAewjDTIzTUmxK6Ph5PhTzNmGTB+A+nOJror/tBBDssKFNCovNdZFyACCwFdvsEnZsq4WLdMfJNlwA2DKk2LoLQKi2Qc7mpEkuAAQ2o7WTFcBdVRmO/XNmrs8DAJuxtWCoYg2j75fEs07Y+rkbVR4ACGyHZ6G3aQGAmv1/pyYzfCQAmvEwalkA+AePWScUYY8FANuRdOrZzMDgYSdUkhzj3W53BoDvHB2wHZmBgQ3A9GGnEXMB12o1rd7t+FKtVlk6YDsCMH0UgFKppD3PWxiAWAhh5OE8wqhcLjtDMENIbhFD4DSc50BwF7FYGs0LwUyjchtZXgjeRiZYSqRBVCoVPRwO5UsJyWIuCQLONxqN+RRzkuV0kqSNvEw5LXSg4UruA43UkZIjIkdKqUO9q4ge6iWuVVydF71WkbjYcgmbuVxsFeJq8dlf7hbier0QDxyFeWIqxCNfYZ5Zly/1S4ACANwCNjV4Pex1NJ4AAAAASUVORK5CYII="/>',f(e,"class","notifier-img svelte-vmn3wy"),Se(e,"height","62px")},m(t,n){E(t,e,n)},p:T,i:T,o:T,d(t){t&&S(e)}}}class oo extends ie{constructor(e){super(),re(this,e,null,lo,ee,{})}}const Mn=at([]);function Ve(s,e="Info",t="info",n=5e3){const r=`${new Date().valueOf()}-${s}`;return Mn.update(i=>[{id:r,msg:s,titel:e,type:t,removeAfter:n},...i]),setTimeout(()=>{tr(r)},n),r}function tr(s){Mn.update(e=>e.filter(t=>t.id!==s))}function ao(s){let e,t;return e=new oo({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function co(s){let e,t;return e=new io({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function uo(s){let e,t;return e=new so({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function fo(s){let e,t;return e=new to({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ho(s){let e,t;return e=new Zl({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function po(s){let e,t,n,r,i,l,o,a=s[0].titel+"",c,u,d=s[0].msg+"",m,_,g,A,y,b;const D=[ho,fo,uo,co,ao],k=[];function C(w,O){return w[0].type==="danger"||w[0].type==="error"?0:w[0].type==="warn"||w[0].type==="warning"?1:w[0].type==="success"||w[0].type==="ok"?2:w[0].type==="info"||w[0].type==="default"?3:4}return r=C(s),i=k[r]=D[r](s),{c(){e=p("div"),t=p("button"),t.textContent="\xD7",n=$(),i.c(),l=$(),o=p("h2"),c=$(),u=p("div"),f(t,"class","notifier-close svelte-1mipoao"),f(t,"aria-label","Cancel Button"),f(t,"type","button"),f(o,"class","notifier-title svelte-1mipoao"),f(u,"class","notifier-body"),f(e,"class",m="notifier "+s[0].type+" shown svelte-1mipoao")},m(w,O){E(w,e,O),h(e,t),h(e,n),k[r].m(e,null),h(e,l),h(e,o),o.innerHTML=a,h(e,c),h(e,u),u.innerHTML=d,A=!0,y||(b=X(t,"click",s[1]),y=!0)},p(w,[O]){let U=r;r=C(w),r!==U&&(_e(),I(k[U],1,1,()=>{k[U]=null}),ge(),i=k[r],i||(i=k[r]=D[r](w),i.c()),j(i,1),i.m(e,l)),(!A||O&1)&&a!==(a=w[0].titel+"")&&(o.innerHTML=a),(!A||O&1)&&d!==(d=w[0].msg+"")&&(u.innerHTML=d),(!A||O&1&&m!==(m="notifier "+w[0].type+" shown svelte-1mipoao"))&&f(e,"class",m)},i(w){A||(j(i),Le(()=>{g&&g.end(1),_=jr(e,Sl,{y:-600,duration:400}),_.start()}),A=!0)},o(w){I(i),_&&_.invalidate(),g=Pr(e,tt,{}),A=!1},d(w){w&&S(e),k[r].d(),w&&g&&g.end(),y=!1,b()}}}function mo(s,e,t){Cn();let{toast:n}=e;function r(){tr(n.id)}return s.$$set=i=>{"toast"in i&&t(0,n=i.toast)},[n,r]}class _o extends ie{constructor(e){super(),re(this,e,mo,po,ee,{toast:0})}}function as(s,e,t){const n=s.slice();return n[1]=e[t],n}function cs(s){let e,t,n=[],r=new Map,i,l=s[0];const o=a=>a[1].id;for(let a=0;a<l.length;a+=1){let c=as(s,l,a),u=o(c);r.set(u,n[a]=us(u,c))}return{c(){e=p("div"),t=p("div");for(let a=0;a<n.length;a+=1)n[a].c();f(t,"class","flex flex-col p-2 space-y-2"),f(e,"class","notifier-container svelte-1pvbk0p")},m(a,c){E(a,e,c),h(e,t);for(let u=0;u<n.length;u+=1)n[u].m(t,null);i=!0},p(a,c){if(c&1){l=a[0],_e();for(let u=0;u<n.length;u+=1)n[u].r();n=Dr(n,c,o,1,a,l,r,t,Ir,us,null,as);for(let u=0;u<n.length;u+=1)n[u].a();ge()}},i(a){if(!i){for(let c=0;c<l.length;c+=1)j(n[c]);i=!0}},o(a){for(let c=0;c<n.length;c+=1)I(n[c]);i=!1},d(a){a&&S(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function us(s,e){let t,n,r,i,l=T,o;return n=new _o({props:{toast:e[1]}}),{key:s,first:null,c(){t=p("span"),Y(n.$$.fragment),r=$(),this.first=t},m(a,c){E(a,t,c),q(n,t,null),h(t,r),o=!0},p(a,c){e=a;const u={};c&1&&(u.toast=e[1]),n.$set(u)},r(){i=t.getBoundingClientRect()},f(){$r(t),l()},a(){l(),l=Ar(t,i,Ql,{})},i(a){o||(j(n.$$.fragment,a),o=!0)},o(a){I(n.$$.fragment,a),o=!1},d(a){a&&S(t),G(n)}}}function go(s){let e,t,n=s[0].length&&cs(s);return{c(){n&&n.c(),e=Oe()},m(r,i){n&&n.m(r,i),E(r,e,i),t=!0},p(r,[i]){r[0].length?n?(n.p(r,i),i&1&&j(n,1)):(n=cs(r),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(_e(),I(n,1,1,()=>{n=null}),ge())},i(r){t||(j(n),t=!0)},o(r){I(n),t=!1},d(r){n&&n.d(r),r&&S(e)}}}function bo(s,e,t){let n;return Me(s,Mn,r=>t(0,n=r)),[n]}class vo extends ie{constructor(e){super(),re(this,e,bo,go,ee,{})}}function yo(s){let e,t,n,r,i=(JSON.stringify(s[15]),2+""),l;return{c(){e=p("div"),t=p("h1"),t.textContent="Error",n=$(),r=p("pre"),l=J(i),f(t,"class","text-red-600")},m(o,a){E(o,e,a),h(e,t),h(e,n),h(e,r),h(r,l)},p(o,a){a&2&&i!==(i=(JSON.stringify(o[15]),2+""))&&ue(l,i)},i:T,o:T,d(o){o&&S(e)}}}function ko(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g,A,y,b,D,k,C,w,O,U,R,M,z,Q,fe,K,v,P,N,H,F,B,V,x,le,ne,ce,se,Z,ae,Ge,pe,Be,je,Ee,Ke,ke,be,xe,nt;return{c(){e=p("div"),t=p("label"),t.textContent="Titel",n=$(),r=p("input"),l=$(),o=p("small"),o.textContent="Episoden Titel",a=$(),c=p("div"),u=p("label"),u.textContent="Origin Titel",d=$(),m=p("input"),g=$(),A=p("small"),A.textContent="Orginal Titel",y=$(),b=p("section"),D=p("div"),k=p("label"),k.textContent="Episode",C=$(),w=p("input"),U=$(),R=p("small"),R.textContent="Episode",M=$(),z=p("div"),Q=p("label"),Q.textContent="Staffel",fe=$(),K=p("input"),P=$(),N=p("small"),N.textContent="Staffel",H=$(),F=p("div"),B=p("label"),B.textContent="Tags",V=$(),x=p("input"),ne=$(),ce=p("small"),ce.textContent="Tags",se=$(),Z=p("div"),ae=p("label"),ae.textContent="Data",Ge=$(),pe=p("textarea"),je=$(),Ee=p("small"),Ee.textContent="Episoden Titel",Ke=$(),ke=p("footer"),be=p("button"),be.innerHTML='<i class="gg-enter"></i>',f(t,"for","sw1"),f(t,"class","label"),f(r,"type","text"),f(r,"class","form-control"),f(r,"id","sw1"),r.value=i=s[0].titel,f(r,"placeholder","Titel"),f(o,"class","text-muted sr-only"),f(e,"class","mb-1"),f(u,"for","sw2"),f(u,"class","label"),f(m,"type","text"),f(m,"class","form-control"),f(m,"id","sw2"),m.value=_=s[0].name,f(m,"placeholder","Name"),f(A,"class","text-muted sr-only"),f(c,"class","mb-1"),f(k,"for","sw3"),f(k,"class","label"),f(w,"type","number"),f(w,"class","form-control"),f(w,"id","sw3"),w.value=O=s[0].ep,f(w,"placeholder","Episode"),f(R,"class","text-muted sr-only"),f(D,"class",""),f(Q,"for","sw4"),f(Q,"class","label"),f(K,"type","number"),f(K,"class","form-control"),f(K,"id","sw1"),K.value=v=s[0].st,f(K,"placeholder","Staffel"),f(N,"class","text-muted sr-only"),f(z,"class",""),f(b,"class","grid grid-cols-2 gap-4 mb-1"),f(B,"for","sw5"),f(B,"class","label"),f(x,"type","text"),f(x,"class","form-control"),f(x,"id","sw5"),x.value=le=s[0].tags,f(x,"placeholder","Tags"),f(ce,"class","text-muted sr-only"),f(F,"class","mb-1"),f(ae,"for","sw6"),f(ae,"class","label"),f(pe,"class","form-control"),f(pe,"id","sw6"),f(pe,"rows","10"),f(pe,"placeholder","JSON Obj"),pe.value=Be=JSON.stringify(s[0].assets,null,2),f(Ee,"class","text-muted sr-only"),f(Z,"class","mb-1"),f(be,"class","flex w-10 h-10 items-center justify-center shadow rounded"),f(be,"title","Save"),te(be,"text-red-600",s[2]),f(ke,"class","flex py-2 space-x-2")},m(L,W){E(L,e,W),h(e,t),h(e,n),h(e,r),h(e,l),h(e,o),E(L,a,W),E(L,c,W),h(c,u),h(c,d),h(c,m),h(c,g),h(c,A),E(L,y,W),E(L,b,W),h(b,D),h(D,k),h(D,C),h(D,w),h(D,U),h(D,R),h(b,M),h(b,z),h(z,Q),h(z,fe),h(z,K),h(z,P),h(z,N),E(L,H,W),E(L,F,W),h(F,B),h(F,V),h(F,x),h(F,ne),h(F,ce),E(L,se,W),E(L,Z,W),h(Z,ae),h(Z,Ge),h(Z,pe),h(Z,je),h(Z,Ee),E(L,Ke,W),E(L,ke,W),h(ke,be),xe||(nt=[X(r,"blur",s[5]),X(m,"blur",s[6]),X(w,"blur",s[7]),X(K,"blur",s[8]),X(x,"blur",s[9]),X(pe,"blur",s[10]),X(be,"click",s[3])],xe=!0)},p(L,W){W&1&&i!==(i=L[0].titel)&&r.value!==i&&(r.value=i),W&1&&_!==(_=L[0].name)&&m.value!==_&&(m.value=_),W&1&&O!==(O=L[0].ep)&&w.value!==O&&(w.value=O),W&1&&v!==(v=L[0].st)&&K.value!==v&&(K.value=v),W&1&&le!==(le=L[0].tags)&&x.value!==le&&(x.value=le),W&1&&Be!==(Be=JSON.stringify(L[0].assets,null,2))&&(pe.value=Be),W&4&&te(be,"text-red-600",L[2])},i:T,o:T,d(L){L&&S(e),L&&S(a),L&&S(c),L&&S(y),L&&S(b),L&&S(H),L&&S(F),L&&S(se),L&&S(Z),L&&S(Ke),L&&S(ke),xe=!1,ye(nt)}}}function wo(s){let e,t;return e=new yt({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Ao(s){let e,t,n,r,i={ctx:s,current:null,token:null,hasCatch:!0,pending:wo,then:ko,catch:yo,value:14,error:15,blocks:[,,,]};return Ue(n=s[1],i),{c(){e=p("section"),t=p("div"),i.block.c(),f(t,"class","py-4"),f(e,"class","container mx-auto px-2")},m(l,o){E(l,e,o),h(e,t),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,r=!0},p(l,[o]){s=l,i.ctx=s,o&2&&n!==(n=s[1])&&Ue(n,i)||vt(i,s,o)},i(l){r||(j(i.block),r=!0)},o(l){for(let o=0;o<3;o+=1){const a=i.blocks[o];I(a)}r=!1},d(l){l&&S(e),i.block.d(),i.token=null,i=null}}}function $o(s,e,t){let{params:n}=e,r={},i,l;const o=()=>{Gt({id:n.id,od1:!1,od2:!1}).then(b=>(t(0,r=b),b))},a=async b=>{t(2,l=!0);try{const{data:D,error:k}=await We.from("south_park").update({titel:b.titel,name:b.name,st:b.st,ep:b.ep,tags:b.tags,assets:b.assets}).eq("id",b.id)}catch(D){console.log(D)}finally{await un(500),u(),Ve("Data Updated","Action","success"),t(2,l=!1)}},c=()=>{a(r)},u=()=>{Xs.fetchAll()};i=o();const d=b=>{t(0,r.titel=b.currentTarget.value,r)},m=b=>{t(0,r.name=b.currentTarget.value,r)},_=b=>{t(0,r.ep=b.currentTarget.value,r)},g=b=>{t(0,r.st=b.currentTarget.value,r)},A=b=>{t(0,r.tags=b.currentTarget.value,r)},y=b=>{t(0,r.assets=JSON.parse(b.currentTarget.value?b.currentTarget.value:"{}"),r)};return s.$$set=b=>{"params"in b&&t(4,n=b.params)},[r,i,l,c,n,d,m,_,g,A,y]}class So extends ie{constructor(e){super(),re(this,e,$o,Ao,ee,{params:4})}}function Eo(s){let e,t,n,r,i,l,o,a,c,u,d;return{c(){e=p("ul"),t=p("li"),n=p("a"),n.textContent="Home",r=$(),i=p("li"),l=p("a"),l.textContent="Serien",o=$(),a=p("li"),c=p("a"),c.textContent="Studio",f(n,"href","/"),f(n,"class","flex p-2"),f(l,"href","/serien"),f(l,"class","flex p-2"),f(c,"href","/studio"),f(c,"class","flex p-2")},m(m,_){E(m,e,_),h(e,t),h(t,n),h(e,r),h(e,i),h(i,l),h(e,o),h(e,a),h(a,c),u||(d=[De(Ne.call(null,n)),De(Ne.call(null,l)),De(Ne.call(null,c))],u=!0)},p:T,d(m){m&&S(e),u=!1,ye(d)}}}function To(s){let e,t;return e=new ql({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Co(s){let e,t;return e=new So({props:{params:s[0]}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.params=n[0]),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Oo(s){let e,t;return e=new Kl({props:{params:s[0]}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.params=n[0]),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function jo(s){let e,t,n,r,i,l;e=new Zs({props:{titel:s[2],sub:s[3]}});const o=[Oo,Co,To],a=[];function c(u,d){return u[1]==5?0:u[1]==6?1:2}return n=c(s),r=a[n]=o[n](s),{c(){Y(e.$$.fragment),t=$(),r.c(),i=Oe()},m(u,d){q(e,u,d),E(u,t,d),a[n].m(u,d),E(u,i,d),l=!0},p(u,d){const m={};d&4&&(m.titel=u[2]),d&8&&(m.sub=u[3]),e.$set(m);let _=n;n=c(u),n===_?a[n].p(u,d):(_e(),I(a[_],1,1,()=>{a[_]=null}),ge(),r=a[n],r?r.p(u,d):(r=a[n]=o[n](u),r.c()),j(r,1),r.m(i.parentNode,i))},i(u){l||(j(e.$$.fragment,u),j(r),l=!0)},o(u){I(e.$$.fragment,u),I(r),l=!1},d(u){G(e,u),u&&S(t),a[n].d(u),u&&S(i)}}}function fs(s){let e,t;return e=new Ln({props:{$$slots:{default:[jo]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&31&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Po(s){let e,t,n=s[1],r,i;e=new xn({props:{$$slots:{default:[Eo]},$$scope:{ctx:s}}});let l=fs(s);return{c(){Y(e.$$.fragment),t=$(),l.c(),r=Oe()},m(o,a){q(e,o,a),E(o,t,a),l.m(o,a),E(o,r,a),i=!0},p(o,[a]){const c={};a&16&&(c.$$scope={dirty:a,ctx:o}),e.$set(c),a&2&&ee(n,n=o[1])?(_e(),I(l,1,1,T),ge(),l=fs(o),l.c(),j(l),l.m(r.parentNode,r)):l.p(o,a)},i(o){i||(j(e.$$.fragment,o),j(l),i=!0)},o(o){I(e.$$.fragment,o),I(l),i=!1},d(o){G(e,o),o&&S(t),o&&S(r),l.d(o)}}}function Ro(s,e,t){let{params:n}=e,{pid:r}=e,{titel:i=null}=e,{sub:l=null}=e;return s.$$set=o=>{"params"in o&&t(0,n=o.params),"pid"in o&&t(1,r=o.pid),"titel"in o&&t(2,i=o.titel),"sub"in o&&t(3,l=o.sub)},[n,r,i,l]}class hs extends ie{constructor(e){super(),re(this,e,Ro,Po,ee,{params:0,pid:1,titel:2,sub:3})}}function ds(s,e,t){const n=s.slice();return n[11]=e[t],n}function Io(s){let e;return{c(){e=p("option"),e.textContent="All",e.__value=null,e.value=e.__value},m(t,n){E(t,e,n)},p:T,d(t){t&&S(e)}}}function Do(s){let e,t,n=s[11]+"",r,i;return{c(){e=p("option"),t=J("Season "),r=J(n),e.__value=i=s[11],e.value=e.__value},m(l,o){E(l,e,o),h(e,t),h(e,r)},p(l,o){o&1&&n!==(n=l[11]+"")&&ue(r,n),o&1&&i!==(i=l[11])&&(e.__value=i,e.value=e.__value)},d(l){l&&S(e)}}}function ps(s){let e;function t(i,l){return i[11]!==null?Do:Io}let n=t(s),r=n(s);return{c(){r.c(),e=Oe()},m(i,l){r.m(i,l),E(i,e,l)},p(i,l){n===(n=t(i))&&r?r.p(i,l):(r.d(1),r=n(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){r.d(i),i&&S(e)}}}function No(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g,A,y,b,D,k,C,w,O,U,R,M,z,Q,fe,K,v,P=s[0],N=[];for(let B=0;B<P.length;B+=1)N[B]=ps(ds(s,P,B));let H=[s[5]],F={};for(let B=0;B<H.length;B+=1)F=oe(F,H[B]);return{c(){e=p("header"),t=p("div"),n=p("select");for(let B=0;B<N.length;B+=1)N[B].c();r=$(),i=p("label"),l=p("span"),o=p("input"),a=$(),c=p("span"),u=p("i"),_=$(),g=p("label"),A=p("span"),y=p("input"),b=$(),D=p("span"),k=p("i"),O=$(),U=p("label"),R=p("span"),M=p("input"),z=$(),Q=p("span"),Q.innerHTML='<i class="gg-pen"></i>',f(n,"class","input"),s[1]===void 0&&Le(()=>s[6].call(n)),f(t,"class","flex-grow flex flex-col svelte-1kmgmhc"),f(o,"type","checkbox"),f(o,"class","checkbox hidden"),f(o,"id","c1"),f(u,"class",d=s[2]?"gg-space-between-v":"gg-space-between"),f(l,"class","py-2"),Se(l,"--ggs","1"),f(i,"for","c1"),f(i,"title",m=s[2]?"Titel":"Id"),f(i,"class","flex flex-col items-center justify-center self-center w-10 h-10 cursor-pointer bg-gray-50 rounded svelte-1kmgmhc"),f(y,"type","checkbox"),f(y,"class","checkbox hidden"),f(y,"id","c2"),f(k,"class",C=s[3]?"gg-arrow-up":"gg-arrow-down"),f(A,"class","py-2"),Se(A,"--ggs","1"),f(g,"for","c2"),f(g,"title",w=s[3]?"Desc":"Asc"),f(g,"class","flex flex-col items-center justify-center self-center w-10 h-10 cursor-pointer bg-gray-50 rounded svelte-1kmgmhc"),f(M,"type","checkbox"),f(M,"class","checkbox hidden"),f(M,"id","c3"),f(R,"class","py-2"),Se(R,"--ggs","1"),f(U,"for","c3"),f(U,"class",fe="flex flex-col items-center justify-center self-center w-10 h-10 cursor-pointer rounded "+(s[4]?"text-red-800 bg-red-50":"text-blue-700 bg-blue-50")+" svelte-1kmgmhc"),$e(e,F),te(e,"svelte-1kmgmhc",!0)},m(B,V){E(B,e,V),h(e,t),h(t,n);for(let x=0;x<N.length;x+=1)N[x].m(n,null);Yn(n,s[1]),h(e,r),h(e,i),h(i,l),h(l,o),o.checked=s[2],h(l,a),h(l,c),h(c,u),h(e,_),h(e,g),h(g,A),h(A,y),y.checked=s[3],h(A,b),h(A,D),h(D,k),h(e,O),h(e,U),h(U,R),h(R,M),M.checked=s[4],h(R,z),h(R,Q),K||(v=[X(n,"change",s[6]),X(o,"change",s[7]),X(y,"change",s[8]),X(M,"change",s[9])],K=!0)},p(B,[V]){if(V&1){P=B[0];let x;for(x=0;x<P.length;x+=1){const le=ds(B,P,x);N[x]?N[x].p(le,V):(N[x]=ps(le),N[x].c(),N[x].m(n,null))}for(;x<N.length;x+=1)N[x].d(1);N.length=P.length}V&3&&Yn(n,B[1]),V&4&&(o.checked=B[2]),V&4&&d!==(d=B[2]?"gg-space-between-v":"gg-space-between")&&f(u,"class",d),V&4&&m!==(m=B[2]?"Titel":"Id")&&f(i,"title",m),V&8&&(y.checked=B[3]),V&8&&C!==(C=B[3]?"gg-arrow-up":"gg-arrow-down")&&f(k,"class",C),V&8&&w!==(w=B[3]?"Desc":"Asc")&&f(g,"title",w),V&16&&(M.checked=B[4]),V&16&&fe!==(fe="flex flex-col items-center justify-center self-center w-10 h-10 cursor-pointer rounded "+(B[4]?"text-red-800 bg-red-50":"text-blue-700 bg-blue-50")+" svelte-1kmgmhc")&&f(U,"class",fe),$e(e,F=Ce(H,[V&32&&B[5]])),te(e,"svelte-1kmgmhc",!0)},i:T,o:T,d(B){B&&S(e),ot(N,B),K=!1,ye(v)}}}function Uo(s,e,t){const n=["seasonlist"];let r=ve(e,n),i;Me(s,pt,A=>t(10,i=A));let{seasonlist:l=[null,1,2,3,4]}=e,o=null,a=!1,c=!1,u=!1;o=i.st,a=i.od1,c=i.od2,u=i.edit;function d(){o=vr(this),t(1,o),t(0,l)}function m(){a=this.checked,t(2,a)}function _(){c=this.checked,t(3,c)}function g(){u=this.checked,t(4,u)}return s.$$set=A=>{e=oe(oe({},e),Ze(A)),t(5,r=ve(e,n)),"seasonlist"in A&&t(0,l=A.seasonlist)},s.$$.update=()=>{s.$$.dirty&30&&(ze(pt,i.st=o,i),ze(pt,i.od1=a,i),ze(pt,i.od2=c,i),ze(pt,i.edit=u,i))},[l,o,a,c,u,r,d,m,_,g]}class Bo extends ie{constructor(e){super(),re(this,e,Uo,No,ee,{seasonlist:0})}}function ms(s,e,t){const n=s.slice();return n[5]=e[t].titel,n[6]=e[t].name,n[7]=e[t].id,n[8]=e[t].tags,n[9]=e[t].assets,n[10]=e[t].st,n[11]=e[t].ep,n}function xo(s){return{c:T,m:T,p:T,i:T,o:T,d:T}}function Lo(s){let e,t,n=s[4],r=[];for(let l=0;l<n.length;l+=1)r[l]=gs(ms(s,n,l));let i=null;return n.length||(i=_s()),{c(){e=p("section"),t=p("ul");for(let l=0;l<r.length;l+=1)r[l].c();i&&i.c(),f(t,"class","list-none divide-y"),f(e,"class","bg-white flex flex-col py-4 space-y-4")},m(l,o){E(l,e,o),h(e,t);for(let a=0;a<r.length;a+=1)r[a].m(t,null);i&&i.m(t,null)},p(l,o){if(o&3){n=l[4];let a;for(a=0;a<n.length;a+=1){const c=ms(l,n,a);r[a]?r[a].p(c,o):(r[a]=gs(c),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length,!n.length&&i?i.p(l,o):n.length?i&&(i.d(1),i=null):(i=_s(),i.c(),i.m(t,null))}},i:T,o:T,d(l){l&&S(e),ot(r,l),i&&i.d()}}}function _s(s){let e;return{c(){e=p("li"),e.textContent="... loading"},m(t,n){E(t,e,n)},p:T,d(t){t&&S(e)}}}function gs(s){let e,t,n,r,i=s[5]+"",l,o,a,c=s[6]+"",u,d,m,_,g=(s[10]<=9?`0${s[10]}`:s[10])+"",A,y,b=(s[11]<=9?`0${s[11]}`:s[11])+"",D,k,C,w,O,U;return{c(){e=p("li"),t=p("a"),n=p("div"),r=p("span"),l=J(i),o=$(),a=p("span"),u=J(c),d=$(),m=p("div"),_=p("span"),A=J(g),y=J("-"),D=J(b),w=$(),f(r,"class","text-lg font-medium"),f(a,"class","text-sm text-gray-400 font-thin italic"),f(n,"class","flex flex-col"),f(_,"class","text-sm"),f(t,"href",k="/"+(s[0].edit?"serien/edit":"serien/detail")+"/"+s[7]),f(t,"class","flex justify-between py-2 px-2")},m(R,M){E(R,e,M),h(e,t),h(t,n),h(n,r),h(r,l),h(n,o),h(n,a),h(a,u),h(t,d),h(t,m),h(m,_),h(_,A),h(_,y),h(_,D),h(e,w),O||(U=De(C=Ne.call(null,t)),O=!0)},p(R,M){M&2&&i!==(i=R[5]+"")&&ue(l,i),M&2&&c!==(c=R[6]+"")&&ue(u,c),M&2&&g!==(g=(R[10]<=9?`0${R[10]}`:R[10])+"")&&ue(A,g),M&2&&b!==(b=(R[11]<=9?`0${R[11]}`:R[11])+"")&&ue(D,b),M&3&&k!==(k="/"+(R[0].edit?"serien/edit":"serien/detail")+"/"+R[7])&&f(t,"href",k)},d(R){R&&S(e),O=!1,U()}}}function Mo(s){let e,t;return e=new yt({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Fo(s){let e,t,n,r,i;t=new Bo({props:{class:"py-4"}});let l={ctx:s,current:null,token:null,hasCatch:!1,pending:Mo,then:Lo,catch:xo,value:4,blocks:[,,,]};return Ue(r=s[1],l),{c(){e=p("div"),Y(t.$$.fragment),n=$(),l.block.c(),f(e,"class","container mx-auto px-2")},m(o,a){E(o,e,a),q(t,e,null),h(e,n),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,i=!0},p(o,[a]){s=o,l.ctx=s,a&2&&r!==(r=s[1])&&Ue(r,l)||vt(l,s,a)},i(o){i||(j(t.$$.fragment,o),j(l.block),i=!0)},o(o){I(t.$$.fragment,o);for(let a=0;a<3;a+=1){const c=l.blocks[a];I(c)}i=!1},d(o){o&&S(e),G(t),l.block.d(),l.token=null,l=null}}}function Ho(s,e,t){let n;Me(s,pt,o=>t(0,n=o));let r,i=[];const l=o=>{let a={};return o&&(a=o),Gt(a).then(c=>{i=c}).then(()=>i)};return s.$$.update=()=>{s.$$.dirty&1&&t(1,r=l(n))},[n,r]}class Jo extends ie{constructor(e){super(),re(this,e,Ho,Fo,ee,{})}}function bs(s,e,t){const n=s.slice();return n[5]=e[t],n}function qo(s){return{c:T,m:T,p:T,i:T,o:T,d:T}}function Go(s){let e,t,n,r=Object.keys(s[4]).length+"",i,l,o,a,c,u,d,m,_,g=s[4].titel+"",A,y,b,D=s[4].name+"",k,C,w,O,U,R=(s[4].st?s[4].st:"")+"",M,z,Q,fe,K=(s[4].ep?s[4].ep:"")+"",v,P,N,H=(s[4].tags?s[4].tags:"SouthPark")+"",F,B=Object.keys(s[4]),V=[];for(let x=0;x<B.length;x+=1)V[x]=vs(bs(s,B,x));return{c(){e=p("section"),t=p("div"),n=J("Obj with "),i=J(r),l=J(" Aguments"),o=$(),a=p("div");for(let x=0;x<V.length;x+=1)V[x].c();c=$(),u=p("div"),d=$(),m=p("hgroup"),_=p("h4"),A=J(g),y=$(),b=p("h5"),k=J(D),C=$(),w=p("ul"),O=p("li"),U=J("Season : "),M=J(R),z=$(),Q=p("li"),fe=J("Episode: "),v=J(K),P=$(),N=p("li"),F=J(H),f(u,"class","py-4"),f(N,"class","italic"),f(m,"class","space-y-2 py-4"),f(e,"class","bg-white flex flex-col py-2 space-y-2")},m(x,le){E(x,e,le),h(e,t),h(t,n),h(t,i),h(t,l),h(e,o),h(e,a);for(let ne=0;ne<V.length;ne+=1)V[ne].m(a,null);h(e,c),h(e,u),h(e,d),h(e,m),h(m,_),h(_,A),h(m,y),h(m,b),h(b,k),h(m,C),h(m,w),h(w,O),h(O,U),h(O,M),h(w,z),h(w,Q),h(Q,fe),h(Q,v),h(w,P),h(w,N),h(N,F)},p(x,le){if(le&1&&r!==(r=Object.keys(x[4]).length+"")&&ue(i,r),le&1){B=Object.keys(x[4]);let ne;for(ne=0;ne<B.length;ne+=1){const ce=bs(x,B,ne);V[ne]?V[ne].p(ce,le):(V[ne]=vs(ce),V[ne].c(),V[ne].m(a,null))}for(;ne<V.length;ne+=1)V[ne].d(1);V.length=B.length}le&1&&g!==(g=x[4].titel+"")&&ue(A,g),le&1&&D!==(D=x[4].name+"")&&ue(k,D),le&1&&R!==(R=(x[4].st?x[4].st:"")+"")&&ue(M,R),le&1&&K!==(K=(x[4].ep?x[4].ep:"")+"")&&ue(v,K),le&1&&H!==(H=(x[4].tags?x[4].tags:"SouthPark")+"")&&ue(F,H)},i:T,o:T,d(x){x&&S(e),ot(V,x)}}}function vs(s){let e,t=s[5]+"",n,r;return{c(){e=p("span"),n=J(t),r=J(", ")},m(i,l){E(i,e,l),h(e,n),h(e,r)},p(i,l){l&1&&t!==(t=i[5]+"")&&ue(n,t)},d(i){i&&S(e)}}}function Yo(s){let e,t;return e=new yt({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function zo(s){let e,t,n,r={ctx:s,current:null,token:null,hasCatch:!1,pending:Yo,then:Go,catch:qo,value:4,blocks:[,,,]};return Ue(t=s[0],r),{c(){e=p("div"),r.block.c(),f(e,"class","container mx-auto px-2")},m(i,l){E(i,e,l),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(i,[l]){s=i,r.ctx=s,l&1&&t!==(t=s[0])&&Ue(t,r)||vt(r,s,l)},i(i){n||(j(r.block),n=!0)},o(i){for(let l=0;l<3;l+=1){const o=r.blocks[l];I(o)}n=!1},d(i){i&&S(e),r.block.d(),r.token=null,r=null}}}function Vo(s,e,t){let n,{params:r}=e,i=[];const l=o=>{let a={};return o&&(a.id=o),Gt(a).then(c=>{i=c}).then(()=>i)};return s.$$set=o=>{"params"in o&&t(1,r=o.params)},s.$$.update=()=>{s.$$.dirty&2&&t(0,n=l(r.id?r.id:null))},[n,r]}class Wo extends ie{constructor(e){super(),re(this,e,Vo,zo,ee,{params:1})}}function Ko(s){let e,t,n,r,i=(JSON.stringify(s[15]),2+""),l;return{c(){e=p("div"),t=p("h1"),t.textContent="Error",n=$(),r=p("pre"),l=J(i),f(t,"class","text-red-600")},m(o,a){E(o,e,a),h(e,t),h(e,n),h(e,r),h(r,l)},p(o,a){a&2&&i!==(i=(JSON.stringify(o[15]),2+""))&&ue(l,i)},i:T,o:T,d(o){o&&S(e)}}}function Qo(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g,A,y,b,D,k,C,w,O,U,R,M,z,Q,fe,K,v,P,N,H,F,B,V,x,le,ne,ce,se,Z,ae,Ge,pe,Be,je,Ee,Ke,ke,be,xe,nt;return{c(){e=p("div"),t=p("label"),t.textContent="Titel",n=$(),r=p("input"),l=$(),o=p("small"),o.textContent="Episoden Titel",a=$(),c=p("div"),u=p("label"),u.textContent="Origin Titel",d=$(),m=p("input"),g=$(),A=p("small"),A.textContent="Orginal Titel",y=$(),b=p("section"),D=p("div"),k=p("label"),k.textContent="Episode",C=$(),w=p("input"),U=$(),R=p("small"),R.textContent="Episode",M=$(),z=p("div"),Q=p("label"),Q.textContent="Staffel",fe=$(),K=p("input"),P=$(),N=p("small"),N.textContent="Staffel",H=$(),F=p("div"),B=p("label"),B.textContent="Tags",V=$(),x=p("input"),ne=$(),ce=p("small"),ce.textContent="Tags",se=$(),Z=p("div"),ae=p("label"),ae.textContent="Data",Ge=$(),pe=p("textarea"),je=$(),Ee=p("small"),Ee.textContent="Episoden Titel",Ke=$(),ke=p("footer"),be=p("button"),be.innerHTML='<i class="gg-enter"></i>',f(t,"for","sw1"),f(t,"class","label"),f(r,"type","text"),f(r,"class","form-control"),f(r,"id","sw1"),r.value=i=s[0].titel,f(r,"placeholder","Titel"),f(o,"class","text-muted sr-only"),f(e,"class","mb-1"),f(u,"for","sw2"),f(u,"class","label"),f(m,"type","text"),f(m,"class","form-control"),f(m,"id","sw2"),m.value=_=s[0].name,f(m,"placeholder","Name"),f(A,"class","text-muted sr-only"),f(c,"class","mb-1"),f(k,"for","sw3"),f(k,"class","label"),f(w,"type","number"),f(w,"class","form-control"),f(w,"id","sw3"),w.value=O=s[0].ep,f(w,"placeholder","Episode"),f(R,"class","text-muted sr-only"),f(D,"class",""),f(Q,"for","sw4"),f(Q,"class","label"),f(K,"type","number"),f(K,"class","form-control"),f(K,"id","sw1"),K.value=v=s[0].st,f(K,"placeholder","Staffel"),f(N,"class","text-muted sr-only"),f(z,"class",""),f(b,"class","grid grid-cols-2 gap-4 mb-1"),f(B,"for","sw5"),f(B,"class","label"),f(x,"type","text"),f(x,"class","form-control"),f(x,"id","sw5"),x.value=le=s[0].tags,f(x,"placeholder","Tags"),f(ce,"class","text-muted sr-only"),f(F,"class","mb-1"),f(ae,"for","sw6"),f(ae,"class","label"),f(pe,"class","form-control"),f(pe,"id","sw6"),f(pe,"rows","10"),f(pe,"placeholder","JSON Obj"),pe.value=Be=JSON.stringify(s[0].assets,null,2),f(Ee,"class","text-muted sr-only"),f(Z,"class","mb-1"),f(be,"class","flex w-10 h-10 items-center justify-center shadow rounded"),f(be,"title","Save"),te(be,"text-red-600",s[2]),f(ke,"class","flex py-2 space-x-2")},m(L,W){E(L,e,W),h(e,t),h(e,n),h(e,r),h(e,l),h(e,o),E(L,a,W),E(L,c,W),h(c,u),h(c,d),h(c,m),h(c,g),h(c,A),E(L,y,W),E(L,b,W),h(b,D),h(D,k),h(D,C),h(D,w),h(D,U),h(D,R),h(b,M),h(b,z),h(z,Q),h(z,fe),h(z,K),h(z,P),h(z,N),E(L,H,W),E(L,F,W),h(F,B),h(F,V),h(F,x),h(F,ne),h(F,ce),E(L,se,W),E(L,Z,W),h(Z,ae),h(Z,Ge),h(Z,pe),h(Z,je),h(Z,Ee),E(L,Ke,W),E(L,ke,W),h(ke,be),xe||(nt=[X(r,"blur",s[5]),X(m,"blur",s[6]),X(w,"blur",s[7]),X(K,"blur",s[8]),X(x,"blur",s[9]),X(pe,"blur",s[10]),X(be,"click",s[3])],xe=!0)},p(L,W){W&1&&i!==(i=L[0].titel)&&r.value!==i&&(r.value=i),W&1&&_!==(_=L[0].name)&&m.value!==_&&(m.value=_),W&1&&O!==(O=L[0].ep)&&w.value!==O&&(w.value=O),W&1&&v!==(v=L[0].st)&&K.value!==v&&(K.value=v),W&1&&le!==(le=L[0].tags)&&x.value!==le&&(x.value=le),W&1&&Be!==(Be=JSON.stringify(L[0].assets,null,2))&&(pe.value=Be),W&4&&te(be,"text-red-600",L[2])},i:T,o:T,d(L){L&&S(e),L&&S(a),L&&S(c),L&&S(y),L&&S(b),L&&S(H),L&&S(F),L&&S(se),L&&S(Z),L&&S(Ke),L&&S(ke),xe=!1,ye(nt)}}}function Xo(s){let e,t;return e=new yt({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Zo(s){let e,t,n,r,i={ctx:s,current:null,token:null,hasCatch:!0,pending:Xo,then:Qo,catch:Ko,value:14,error:15,blocks:[,,,]};return Ue(n=s[1],i),{c(){e=p("section"),t=p("div"),i.block.c(),f(t,"class","py-4"),f(e,"class","container mx-auto px-2")},m(l,o){E(l,e,o),h(e,t),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,r=!0},p(l,[o]){s=l,i.ctx=s,o&2&&n!==(n=s[1])&&Ue(n,i)||vt(i,s,o)},i(l){r||(j(i.block),r=!0)},o(l){for(let o=0;o<3;o+=1){const a=i.blocks[o];I(a)}r=!1},d(l){l&&S(e),i.block.d(),i.token=null,i=null}}}function ea(s,e,t){let{params:n}=e,r={},i,l;const o=()=>{Gt({id:n.id,od1:!1,od2:!1}).then(b=>(t(0,r=b),b))},a=async b=>{t(2,l=!0);try{const{data:D,error:k}=await We.from("south_park").update({titel:b.titel,name:b.name,st:b.st,ep:b.ep,tags:b.tags,assets:b.assets}).eq("id",b.id)}catch(D){console.log(D)}finally{await un(500),u(),Ve("Data Updated","Action","success"),t(2,l=!1)}},c=()=>{a(r)},u=()=>{Xs.fetchAll()};i=o();const d=b=>{t(0,r.titel=b.currentTarget.value,r)},m=b=>{t(0,r.name=b.currentTarget.value,r)},_=b=>{t(0,r.ep=b.currentTarget.value,r)},g=b=>{t(0,r.st=b.currentTarget.value,r)},A=b=>{t(0,r.tags=b.currentTarget.value,r)},y=b=>{t(0,r.assets=JSON.parse(b.currentTarget.value?b.currentTarget.value:"{}"),r)};return s.$$set=b=>{"params"in b&&t(4,n=b.params)},[r,i,l,c,n,d,m,_,g,A,y]}class ta extends ie{constructor(e){super(),re(this,e,ea,Zo,ee,{params:4})}}function ys(s,e,t){const n=s.slice();return n[18]=e[t].eps,n[19]=e[t].us,n[20]=e[t].de,n[21]=e[t].id,n[22]=e[t].info,n}function na(s){return{c:T,m:T,p:T,i:T,o:T,d:T}}function sa(s){let e,t,n,r,i,l=s[1],o=[];for(let a=0;a<l.length;a+=1)o[a]=ks(ys(s,l,a));return{c(){e=p("h5"),e.textContent="Select Season",t=$(),n=p("nav");for(let a=0;a<o.length;a+=1)o[a].c();r=$(),i=p("hr"),f(n,"class","flex flex-wrap gap-2 p-2"),f(i,"class","my-2")},m(a,c){E(a,e,c),E(a,t,c),E(a,n,c);for(let u=0;u<o.length;u+=1)o[u].m(n,null);E(a,r,c),E(a,i,c)},p(a,c){if(c&31){l=a[1];let u;for(u=0;u<l.length;u+=1){const d=ys(a,l,u);o[u]?o[u].p(d,c):(o[u]=ks(d),o[u].c(),o[u].m(n,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}},i:T,o:T,d(a){a&&S(e),a&&S(t),a&&S(n),ot(o,a),a&&S(r),a&&S(i)}}}function ks(s){let e,t=s[21]+"",n,r,i,l;function o(){return s[8](s[21],s[18])}return{c(){e=p("span"),n=J(t),r=$(),f(e,"class","flex items-center justify-center h-8 w-8 rounded-full shadow cursor-pointer"),te(e,"bg-blue-200",s[3]===s[21])},m(a,c){E(a,e,c),h(e,n),h(e,r),i||(l=X(e,"click",o),i=!0)},p(a,c){s=a,c&2&&t!==(t=s[21]+"")&&ue(n,t),c&10&&te(e,"bg-blue-200",s[3]===s[21])},d(a){a&&S(e),i=!1,l()}}}function ra(s){let e,t;return e=new yt({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ia(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g,A,y,b,D,k,C,w,O,U,R,M,z,Q,fe,K,v,P,N,H,F,B,V,x,le,ne,ce,se,Z,ae,Ge,pe,Be,je,Ee,Ke,ke,be,xe,nt,L,W,Fn,Pe,fn,zt,Ye,hn,Hn,Re={ctx:s,current:null,token:null,hasCatch:!1,pending:ra,then:sa,catch:na,value:17,blocks:[,,,]};return Ue(r=s[5],Re),{c(){e=p("section"),t=p("div"),n=p("div"),Re.block.c(),i=$(),l=p("div"),o=p("label"),o.textContent="Titel",a=$(),c=p("input"),d=$(),m=p("small"),m.textContent="Episoden Titel",_=$(),g=p("div"),A=p("label"),A.textContent="Origin Titel",y=$(),b=p("input"),k=$(),C=p("small"),C.textContent="Orginal Titel",w=$(),O=p("section"),U=p("div"),R=p("label"),R.textContent="Episode",M=$(),z=p("input"),fe=$(),K=p("small"),K.textContent="Episode",v=$(),P=p("div"),N=p("label"),N.textContent="Staffel",H=$(),F=p("input"),V=$(),x=p("small"),x.textContent="Staffel",le=$(),ne=p("div"),ce=p("label"),ce.textContent="Tags",se=$(),Z=p("input"),Ge=$(),pe=p("small"),pe.textContent="Tags",Be=$(),je=p("div"),Ee=p("label"),Ee.textContent="Data",Ke=$(),ke=p("textarea"),be=$(),xe=p("small"),xe.textContent="Episoden Titel",nt=$(),L=p("footer"),W=p("button"),W.innerHTML='<i class="gg-add"></i>',Fn=$(),Pe=p("button"),fn=p("i"),f(o,"for","sw1"),f(o,"class","label"),f(c,"type","text"),f(c,"class","form-control"),f(c,"id","sw1"),c.value=u=s[0].titel,f(c,"placeholder","Titel"),f(m,"class","text-muted sr-only"),f(l,"class","mb-1"),f(A,"for","sw2"),f(A,"class","label"),f(b,"type","text"),f(b,"class","form-control"),f(b,"id","sw2"),b.value=D=s[0].name,f(b,"placeholder","Name"),f(C,"class","text-muted sr-only"),f(g,"class","mb-1"),f(R,"for","sw3"),f(R,"class","label"),f(z,"type","number"),f(z,"class","form-control"),f(z,"id","sw3"),z.value=Q=s[0].ep,f(z,"min",la),f(z,"max",s[4]),f(z,"placeholder","Episode"),f(K,"class","text-muted sr-only"),f(U,"class",""),f(N,"for","sw4"),f(N,"class","label"),f(F,"type","number"),f(F,"class","form-control"),f(F,"min",1),f(F,"max",24),f(F,"id","sw1"),F.value=B=s[0].st,f(F,"placeholder","Staffel"),F.readOnly=!0,f(x,"class","text-muted sr-only"),f(P,"class",""),f(O,"class","grid grid-cols-2 gap-4 mb-1"),f(ce,"for","sw5"),f(ce,"class","label"),f(Z,"type","text"),f(Z,"class","form-control"),f(Z,"id","sw5"),Z.value=ae=s[0].tags,f(Z,"placeholder","Tags"),f(pe,"class","text-muted sr-only"),f(ne,"class","mb-1"),f(Ee,"for","sw6"),f(Ee,"class","label"),f(ke,"class","form-control"),f(ke,"id","sw6"),f(ke,"rows","6"),f(ke,"placeholder","JSON Obj"),f(xe,"class","text-muted sr-only"),f(je,"class","mb-1"),f(W,"class","flex w-10 h-10 items-center justify-center shadow rounded"),f(W,"title","Check"),te(W,"text-red-600",s[6]),f(fn,"class","gg-enter"),f(Pe,"class","flex w-10 h-10 items-center justify-center shadow rounded"),f(Pe,"title","Save"),Pe.disabled=zt=!s[2],te(Pe,"text-red-600",s[6]),te(Pe,"opacity-10",!s[2]),te(Pe,"cursor-not-allowed",!s[2]),f(L,"class","flex py-2 space-x-2"),f(t,"class","py-4"),f(e,"class","container mx-auto px-2")},m(ct,we){E(ct,e,we),h(e,t),h(t,n),Re.block.m(n,Re.anchor=null),Re.mount=()=>n,Re.anchor=null,h(t,i),h(t,l),h(l,o),h(l,a),h(l,c),h(l,d),h(l,m),h(t,_),h(t,g),h(g,A),h(g,y),h(g,b),h(g,k),h(g,C),h(t,w),h(t,O),h(O,U),h(U,R),h(U,M),h(U,z),h(U,fe),h(U,K),h(O,v),h(O,P),h(P,N),h(P,H),h(P,F),h(P,V),h(P,x),h(t,le),h(t,ne),h(ne,ce),h(ne,se),h(ne,Z),h(ne,Ge),h(ne,pe),h(t,Be),h(t,je),h(je,Ee),h(je,Ke),h(je,ke),h(je,be),h(je,xe),h(t,nt),h(t,L),h(L,W),h(L,Fn),h(L,Pe),h(Pe,fn),Ye=!0,hn||(Hn=[X(c,"blur",s[9]),X(b,"blur",s[10]),X(z,"blur",s[11]),X(F,"blur",s[12]),X(Z,"blur",s[13]),X(ke,"blur",s[14]),X(W,"click",s[7]),X(Pe,"click",s[7])],hn=!0)},p(ct,[we]){s=ct,Re.ctx=s,we&32&&r!==(r=s[5])&&Ue(r,Re)||vt(Re,s,we),(!Ye||we&1&&u!==(u=s[0].titel)&&c.value!==u)&&(c.value=u),(!Ye||we&1&&D!==(D=s[0].name)&&b.value!==D)&&(b.value=D),(!Ye||we&1&&Q!==(Q=s[0].ep)&&z.value!==Q)&&(z.value=Q),(!Ye||we&16)&&f(z,"max",s[4]),(!Ye||we&1&&B!==(B=s[0].st)&&F.value!==B)&&(F.value=B),(!Ye||we&1&&ae!==(ae=s[0].tags)&&Z.value!==ae)&&(Z.value=ae),we&64&&te(W,"text-red-600",s[6]),(!Ye||we&4&&zt!==(zt=!s[2]))&&(Pe.disabled=zt),we&64&&te(Pe,"text-red-600",s[6]),we&4&&te(Pe,"opacity-10",!s[2]),we&4&&te(Pe,"cursor-not-allowed",!s[2])},i(ct){Ye||(j(Re.block),Ye=!0)},o(ct){for(let we=0;we<3;we+=1){const lr=Re.blocks[we];I(lr)}Ye=!1},d(ct){ct&&S(e),Re.block.d(),Re.token=null,Re=null,hn=!1,ye(Hn)}}}let la=1;function oa(s,e,t){let n={titel:"",name:"",st:1,ep:1,tags:"",assets:null},r=[],i=!1,l=1,o=18,a,c;const u=()=>{t(6,c=!0),kl().then(k=>(t(1,r=k),k)).then(()=>{t(6,c=!1)})},d=async()=>{t(6,c=!0);try{let{data:k,error:C}=await We.from("south_park").select("st,ep").eq("st",n.st).eq("ep",n.ep);k.length?(t(2,i=!1),Ve("Episode already Exist","Add Item","error")):(t(2,i=!0),Ve("Press Save to Add New Episode","Add Item","success"))}catch(k){Ve(JSON.stringify(k),"Error","error")}finally{t(6,c=!1)}};return a=u(),[n,r,i,l,o,a,c,d,(k,C)=>{t(3,l=k),t(0,n.st=k,n),t(4,o=C),t(2,i=!1)},k=>{t(0,n.titel=k.currentTarget.value,n)},k=>{t(0,n.name=k.currentTarget.value,n)},k=>{t(0,n.ep=k.currentTarget.value,n),t(2,i=!1)},k=>{t(0,n.st=k.currentTarget.value,n),t(2,i=!1)},k=>{t(0,n.tags=k.currentTarget.value,n)},k=>{t(0,n.assets=JSON.parse(k.currentTarget.value?k.currentTarget.value:"{}"),n)}]}class aa extends ie{constructor(e){super(),re(this,e,oa,ia,ee,{})}}function ca(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g;return{c(){e=p("ul"),t=p("li"),n=p("a"),n.textContent="Home",r=$(),i=p("li"),l=p("a"),l.textContent="Serien",o=$(),a=p("li"),c=p("a"),c.textContent="Add Serie",u=$(),d=p("li"),m=p("a"),m.textContent="Studio",f(n,"href","/"),f(n,"class","flex px-2"),f(l,"href","/serien"),f(l,"class","flex px-2"),f(c,"href","/serien/add"),f(c,"class","flex px-2"),f(m,"href","/studio"),f(m,"class","flex px-2"),f(e,"class","list-none divide-y")},m(A,y){E(A,e,y),h(e,t),h(t,n),h(e,r),h(e,i),h(i,l),h(e,o),h(e,a),h(a,c),h(e,u),h(e,d),h(d,m),_||(g=[De(Ne.call(null,n)),De(Ne.call(null,l)),De(Ne.call(null,c)),De(Ne.call(null,m)),X(e,"click",s[7])],_=!0)},p:T,d(A){A&&S(e),_=!1,ye(g)}}}function ua(s){let e,t;return e=new Jo({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function fa(s){let e,t;return e=new aa({}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ha(s){let e,t;return e=new ta({props:{params:s[0]}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.params=n[0]),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function da(s){let e,t;return e=new Wo({props:{params:s[0]}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.params=n[0]),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function pa(s){let e,t,n,r,i,l;e=new Zs({props:{titel:s[2],sub:s[3],class:s[5]+" text-white"}});const o=[da,ha,fa,ua],a=[];function c(u,d){return u[1]==3?0:u[1]==4?1:u[1]==7?2:3}return n=c(s),r=a[n]=o[n](s),{c(){Y(e.$$.fragment),t=$(),r.c(),i=Oe()},m(u,d){q(e,u,d),E(u,t,d),a[n].m(u,d),E(u,i,d),l=!0},p(u,d){const m={};d&4&&(m.titel=u[2]),d&8&&(m.sub=u[3]),d&32&&(m.class=u[5]+" text-white"),e.$set(m);let _=n;n=c(u),n===_?a[n].p(u,d):(_e(),I(a[_],1,1,()=>{a[_]=null}),ge(),r=a[n],r?r.p(u,d):(r=a[n]=o[n](u),r.c()),j(r,1),r.m(i.parentNode,i))},i(u){l||(j(e.$$.fragment,u),j(r),l=!0)},o(u){I(e.$$.fragment,u),I(r),l=!1},d(u){G(e,u),u&&S(t),a[n].d(u),u&&S(i)}}}function ws(s){let e,t;return e=new Ln({props:{$$slots:{default:[pa]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&559&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ma(s){let e,t,n,r=s[1],i,l;function o(u){s[8](u)}let a={$$slots:{default:[ca]},$$scope:{ctx:s}};s[4]!==void 0&&(a.open=s[4]),e=new xn({props:a}),_t.push(()=>In(e,"open",o));let c=ws(s);return{c(){Y(e.$$.fragment),n=$(),c.c(),i=Oe()},m(u,d){q(e,u,d),E(u,n,d),c.m(u,d),E(u,i,d),l=!0},p(u,[d]){const m={};d&528&&(m.$$scope={dirty:d,ctx:u}),!t&&d&16&&(t=!0,m.open=u[4],On(()=>t=!1)),e.$set(m),d&2&&ee(r,r=u[1])?(_e(),I(c,1,1,T),ge(),c=ws(u),c.c(),j(c),c.m(i.parentNode,i)):c.p(u,d)},i(u){l||(j(e.$$.fragment,u),j(c),l=!0)},o(u){I(e.$$.fragment,u),I(c),l=!1},d(u){G(e,u),u&&S(n),u&&S(i),c.d(u)}}}function _a(s,e,t){let n;Me(s,pt,m=>t(6,n=m));let{params:r}=e,{pid:i}=e,{titel:l=null}=e,{sub:o=null}=e,a,c="bg-blue-700";const u=()=>t(4,a=!1);function d(m){a=m,t(4,a)}return s.$$set=m=>{"params"in m&&t(0,r=m.params),"pid"in m&&t(1,i=m.pid),"titel"in m&&t(2,l=m.titel),"sub"in m&&t(3,o=m.sub)},s.$$.update=()=>{if(s.$$.dirty&2)switch(i){case 3:t(5,c="bg-blue-600");break;case 4:t(5,c="bg-red-800");break;default:t(5,c="bg-blue-700");break}s.$$.dirty&64&&t(5,c=n.edit?"bg-red-800":"bg-blue-700")},[r,i,l,o,a,c,n,u,d]}class Xt extends ie{constructor(e){super(),re(this,e,_a,ma,ee,{params:0,pid:1,titel:2,sub:3})}}function ga(s){let e;return{c(){e=J("Not Found")},m(t,n){E(t,e,n)},p:T,i:T,o:T,d(t){t&&S(e)}}}class ba extends ie{constructor(e){super(),re(this,e,null,ga,ee,{})}}function va(s){let e;return{c(){e=J(s[1])},m(t,n){E(t,e,n)},p(t,n){n&2&&ue(e,t[1])},d(t){t&&S(e)}}}function ya(s){let e,t;const n=s[5].default,r=Fe(n,s,s[4],null),i=r||va(s);return{c(){e=p("section"),i&&i.c(),Se(e,"background-image","url("+s[0]+")"),f(e,"class","svelte-1750aqa")},m(l,o){E(l,e,o),i&&i.m(e,null),s[6](e),t=!0},p(l,[o]){r?r.p&&(!t||o&16)&&Je(r,n,l,l[4],t?He(n,l[4],o,null):qe(l[4]),null):i&&i.p&&(!t||o&2)&&i.p(l,t?o:-1),(!t||o&1)&&Se(e,"background-image","url("+l[0]+")")},i(l){t||(j(i,l),t=!0)},o(l){I(i,l),t=!1},d(l){l&&S(e),i&&i.d(l),s[6](null)}}}function ka(s,e,t){let{$$slots:n={},$$scope:r}=e,{file:i}=e,{name:l}=e,{show:o}=e,a;function c(u){_t[u?"unshift":"push"](()=>{a=u,t(2,a)})}return s.$$set=u=>{"file"in u&&t(0,i=u.file),"name"in u&&t(1,l=u.name),"show"in u&&t(3,o=u.show),"$$scope"in u&&t(4,r=u.$$scope)},s.$$.update=()=>{s.$$.dirty&12&&o&&a&&a.scrollIntoView({behavior:"smooth",block:"center"})},[i,l,a,o,r,n,c]}class wa extends ie{constructor(e){super(),re(this,e,ka,ya,ee,{file:0,name:1,show:3})}}function Aa(s){let e;const t=s[5].default,n=Fe(t,s,s[4],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,[i]){n&&n.p&&(!e||i&16)&&Je(n,t,r,r[4],e?He(t,r[4],i,null):qe(r[4]),null)},i(r){e||(j(n,r),e=!0)},o(r){I(n,r),e=!1},d(r){n&&n.d(r)}}}function $a(s,e,t){const n=["big","small","button","basic"];let r=ve(e,n),{$$slots:i={},$$scope:l}=e,{big:o=!1}=e,{small:a=!1}=e,{button:c=!0}=e,{basic:u=!1}=e;return kt("modalId",Symbol()),kt("big",o),kt("small",a),kt("button",c),kt("basic",u),kt("rest",r),s.$$set=d=>{e=oe(oe({},e),Ze(d)),t(6,r=ve(e,n)),"big"in d&&t(0,o=d.big),"small"in d&&t(1,a=d.small),"button"in d&&t(2,c=d.button),"basic"in d&&t(3,u=d.basic),"$$scope"in d&&t(4,l=d.$$scope)},[o,a,c,u,l,i]}class Sa extends ie{constructor(e){super(),re(this,e,$a,Aa,ee,{big:0,small:1,button:2,basic:3})}}function Ea(s){let e,t,n;const r=s[2].default,i=Fe(r,s,s[1],null);return{c(){e=p("div"),t=p("div"),i&&i.c(),f(e,"class","portal-clone svelte-1uerl72")},m(l,o){E(l,e,o),h(e,t),i&&i.m(t,null),s[3](t),n=!0},p(l,[o]){i&&i.p&&(!n||o&2)&&Je(i,r,l,l[1],n?He(r,l[1],o,null):qe(l[1]),null)},i(l){n||(j(i,l),n=!0)},o(l){I(i,l),n=!1},d(l){l&&S(e),i&&i.d(l),s[3](null)}}}function Ta(s,e,t){let{$$slots:n={},$$scope:r}=e,i;Er(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}));function l(o){_t[o?"unshift":"push"](()=>{i=o,t(0,i)})}return s.$$set=o=>{"$$scope"in o&&t(1,r=o.$$scope)},[i,r,n,l]}class Ca extends ie{constructor(e){super(),re(this,e,Ta,Ea,ee,{})}}const Ct=at();function Oa(s){let e,t,n;return{c(){e=p("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--icon-park" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 48 48"><g fill="none" stroke-linejoin="round" stroke-width="4"><path fill="currentColor" stroke="currentColor" d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z"></path><path stroke="#fff" stroke-linecap="round" d="M29.6569 18.3431L18.3432 29.6568"></path><path stroke="#fff" stroke-linecap="round" d="M18.3432 18.3431L29.6569 29.6568"></path></g></svg>',f(e,"class","close__button svelte-62r03p")},m(r,i){E(r,e,i),t||(n=X(e,"click",s[13]),t=!0)},p:T,d(r){r&&S(e),t=!1,n()}}}function As(s){let e;const t=s[12].default,n=Fe(t,s,s[14],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&16384)&&Je(n,t,r,r[14],e?He(t,r[14],i,null):qe(r[14]),null)},i(r){e||(j(n,r),e=!0)},o(r){I(n,r),e=!1},d(r){n&&n.d(r)}}}function ja(s){let e,t,n,r,i,l,o=s[5]&&Oa(s),a=s[2]==s[1]&&As(s),c=[{class:r=`modal__content ${s[0]?s[0]:""}`},s[11]],u={};for(let _=0;_<c.length;_+=1)u=oe(u,c[_]);let d=[{class:i=`modal__container ${s[8]?s[8]:""}`},s[7],{role:"dialog"}],m={};for(let _=0;_<d.length;_+=1)m=oe(m,d[_]);return{c(){e=p("div"),t=p("div"),o&&o.c(),n=$(),a&&a.c(),$e(t,u),te(t,"modal__big",s[4]),te(t,"modal__small",s[3]),Se(t,"background-color",s[6]?"white":null,!1),te(t,"svelte-62r03p",!0),$e(e,m),te(e,"hidden",s[2]!==s[1]),te(e,"svelte-62r03p",!0)},m(_,g){E(_,e,g),h(e,t),o&&o.m(t,null),h(t,n),a&&a.m(t,null),l=!0},p(_,g){_[5]&&o.p(_,g),_[2]==_[1]?a?(a.p(_,g),g&2&&j(a,1)):(a=As(_),a.c(),j(a,1),a.m(t,null)):a&&(_e(),I(a,1,1,()=>{a=null}),ge()),$e(t,u=Ce(c,[(!l||g&1&&r!==(r=`modal__content ${_[0]?_[0]:""}`))&&{class:r},g&2048&&_[11]])),te(t,"modal__big",_[4]),te(t,"modal__small",_[3]),Se(t,"background-color",_[6]?"white":null,!1),te(t,"svelte-62r03p",!0),$e(e,m=Ce(d,[{class:i},_[7],{role:"dialog"}])),te(e,"hidden",_[2]!==_[1]),te(e,"svelte-62r03p",!0)},i(_){l||(j(a),l=!0)},o(_){I(a),l=!1},d(_){_&&S(e),o&&o.d(),a&&a.d()}}}function Pa(s){let e,t,n,r;return e=new Ca({props:{$$slots:{default:[ja]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(i,l){q(e,i,l),t=!0,n||(r=[X(window,"keydown",s[9]),X(window,"click",s[10])],n=!0)},p(i,[l]){const o={};l&18435&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){G(e,i),n=!1,ye(r)}}}function Ra(s,e,t){const n=["class"];let r=ve(e,n),i;Me(s,Ct,k=>t(1,i=k));let{$$slots:l={},$$scope:o}=e;const a=ut("modalId"),c=ut("small"),u=ut("big"),d=ut("button"),m=ut("basic");let _=ut("rest");const g=_.class;delete _.class;let{class:A=""}=e;const y=k=>{k.key==="Escape"&&ze(Ct,i=!1,i)},b=k=>{k.target.classList.contains("modal__container")&&!k.target.classList.contains("close__button")&&ze(Ct,i=!1,i)},D=()=>ze(Ct,i=!1,i);return s.$$set=k=>{e=oe(oe({},e),Ze(k)),t(11,r=ve(e,n)),"class"in k&&t(0,A=k.class),"$$scope"in k&&t(14,o=k.$$scope)},[A,i,a,c,u,d,m,_,g,y,b,r,l,D,o]}class Ia extends ie{constructor(e){super(),re(this,e,Ra,Pa,ee,{class:0})}}function Da(s){let e,t,n,r,i;const l=s[5].default,o=Fe(l,s,s[4],null);let a=[{class:t=s[0]?s[0]:""},s[3]],c={};for(let u=0;u<a.length;u+=1)c=oe(c,a[u]);return{c(){e=p("span"),o&&o.c(),$e(e,c),te(e,"svelte-soxb8h",!0)},m(u,d){E(u,e,d),o&&o.m(e,null),n=!0,r||(i=X(e,"click",s[6]),r=!0)},p(u,[d]){o&&o.p&&(!n||d&16)&&Je(o,l,u,u[4],n?He(l,u[4],d,null):qe(u[4]),null),$e(e,c=Ce(a,[(!n||d&1&&t!==(t=u[0]?u[0]:""))&&{class:t},d&8&&u[3]])),te(e,"svelte-soxb8h",!0)},i(u){n||(j(o,u),n=!0)},o(u){I(o,u),n=!1},d(u){u&&S(e),o&&o.d(u),r=!1,i()}}}function Na(s,e,t){const n=["class"];let r=ve(e,n),i;Me(s,Ct,d=>t(1,i=d));let{$$slots:l={},$$scope:o}=e,{class:a=""}=e;const c=ut("modalId"),u=()=>ze(Ct,i=c,i);return s.$$set=d=>{e=oe(oe({},e),Ze(d)),t(3,r=ve(e,n)),"class"in d&&t(0,a=d.class),"$$scope"in d&&t(4,o=d.$$scope)},[a,i,c,r,o,l,u]}class Ua extends ie{constructor(e){super(),re(this,e,Na,Da,ee,{class:0})}}const Ba=s=>({}),$s=s=>({});function xa(s){let e;return{c(){e=J("Hello")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function La(s){let e;const t=s[3].default,n=Fe(t,s,s[4],null),r=n||xa();return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&16)&&Je(n,t,i,i[4],e?He(t,i[4],l,null):qe(i[4]),null)},i(i){e||(j(r,i),e=!0)},o(i){I(r,i),e=!1},d(i){r&&r.d(i)}}}function Ma(s){let e;return{c(){e=J("Open")},m(t,n){E(t,e,n)},d(t){t&&S(e)}}}function Fa(s){let e;const t=s[3].trigger,n=Fe(t,s,s[4],$s),r=n||Ma();return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&16)&&Je(n,t,i,i[4],e?He(t,i[4],l,Ba):qe(i[4]),$s)},i(i){e||(j(r,i),e=!0)},o(i){I(r,i),e=!1},d(i){r&&r.d(i)}}}function Ha(s){let e,t,n,r;return e=new Ia({props:{$$slots:{default:[La]},$$scope:{ctx:s}}}),n=new Ua({props:{$$slots:{default:[Fa]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment),t=$(),Y(n.$$.fragment)},m(i,l){q(e,i,l),E(i,t,l),q(n,i,l),r=!0},p(i,l){const o={};l&16&&(o.$$scope={dirty:l,ctx:i}),e.$set(o);const a={};l&16&&(a.$$scope={dirty:l,ctx:i}),n.$set(a)},i(i){r||(j(e.$$.fragment,i),j(n.$$.fragment,i),r=!0)},o(i){I(e.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){G(e,i),i&&S(t),G(n,i)}}}function Ja(s){let e,t;return e=new Sa({props:{basic:s[2],small:s[1],button:s[0],$$slots:{default:[Ha]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,[r]){const i={};r&4&&(i.basic=n[2]),r&2&&(i.small=n[1]),r&1&&(i.button=n[0]),r&16&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function qa(s,e,t){let{$$slots:n={},$$scope:r}=e,{button:i=!0}=e,{small:l=!0}=e,{basic:o=!1}=e;return s.$$set=a=>{"button"in a&&t(0,i=a.button),"small"in a&&t(1,l=a.small),"basic"in a&&t(2,o=a.basic),"$$scope"in a&&t(4,r=a.$$scope)},[i,l,o,n,r]}class nr extends ie{constructor(e){super(),re(this,e,qa,Ja,ee,{button:0,small:1,basic:2})}}const Ga=(s,e)=>un(1e3).then(()=>{We.auth.signIn({email:s,password:e}).then(t=>{t.error?(console.log(t.error),Ve(t.error.message,"Authentification Failed","error")):Ve(`Signed In as ${t.user.email}`,"Authentification","success")}).catch(t=>{Ve(t,"Error","error")})});function Ya(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g,A=s[2]?"... loading":"Login",y,b,D,k=[s[4]],C={};for(let w=0;w<k.length;w+=1)C=oe(C,k[w]);return{c(){e=p("div"),t=p("form"),n=p("fieldset"),r=p("label"),r.textContent="Email",i=$(),l=p("input"),o=$(),a=p("fieldset"),c=p("label"),c.textContent="Password",u=$(),d=p("input"),m=$(),_=p("div"),g=p("button"),y=J(A),f(r,"for","email"),f(r,"class","label svelte-1b9kpdu"),f(l,"type","email"),f(l,"id","email"),f(l,"class","input svelte-1b9kpdu"),f(l,"placeholder","email@host.com"),l.required=!0,f(c,"for","password"),f(c,"class","label svelte-1b9kpdu"),f(d,"type","password"),f(d,"id","password"),f(d,"placeholder","\u2022\u2022\u2022\u2022\u2022\u2022"),f(d,"class","input svelte-1b9kpdu"),d.required=!0,f(g,"type","submit"),f(g,"class","w-full text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),f(_,"class","py-3"),f(t,"class","py-6 px-6 space-y-2"),$e(e,C),te(e,"svelte-1b9kpdu",!0)},m(w,O){E(w,e,O),h(e,t),h(t,n),h(n,r),h(n,i),h(n,l),Vt(l,s[0]),h(t,o),h(t,a),h(a,c),h(a,u),h(a,d),Vt(d,s[1]),h(t,m),h(t,_),h(_,g),h(g,y),b||(D=[X(l,"input",s[5]),X(d,"input",s[6]),X(t,"submit",Tn(s[3]))],b=!0)},p(w,[O]){O&1&&l.value!==w[0]&&Vt(l,w[0]),O&2&&d.value!==w[1]&&Vt(d,w[1]),O&4&&A!==(A=w[2]?"... loading":"Login")&&ue(y,A),$e(e,C=Ce(k,[O&16&&w[4]])),te(e,"svelte-1b9kpdu",!0)},i:T,o:T,d(w){w&&S(e),b=!1,ye(D)}}}function za(s,e,t){const n=[];let r=ve(e,n),i,l,o;const a=()=>{t(2,o=!0),Ga(i,l).then(()=>{t(2,o=!1)})};function c(){i=this.value,t(0,i)}function u(){l=this.value,t(1,l)}return s.$$set=d=>{e=oe(oe({},e),Ze(d)),t(4,r=ve(e,n))},[i,l,o,a,r,c,u]}class sr extends ie{constructor(e){super(),re(this,e,za,Ya,ee,{})}}const Va=()=>un(1e3).then(()=>{We.auth.signOut().then(()=>{Ve("Successfully Signed Out","Logged Out","success")}).catch(s=>{Ve(s,"Error","error")})});function Wa(s){let e,t,n,r,i,l,o,a,c,u,d,m,_,g,A,y,b=s[0]?"... loading":"Logout",D,k,C,w=[s[3]],O={};for(let U=0;U<w.length;U+=1)O=oe(O,w[U]);return{c(){e=p("div"),t=p("form"),n=p("fieldset"),r=p("label"),r.textContent="User",i=$(),l=p("input"),a=$(),c=p("fieldset"),u=p("label"),u.textContent="User Id",d=$(),m=p("input"),g=$(),A=p("div"),y=p("button"),D=J(b),f(r,"for","t1"),f(r,"class","label svelte-1b9kpdu"),f(l,"type","text"),f(l,"id","t1"),f(l,"class","input svelte-1b9kpdu"),f(l,"placeholder",o=s[1]?s[1].email:""),l.disabled=!0,f(u,"for","t2"),f(u,"class","label svelte-1b9kpdu"),f(m,"type","text"),f(m,"id","t2"),f(m,"placeholder",_=s[1]?s[1].id:""),f(m,"class","input svelte-1b9kpdu"),m.disabled=!0,f(y,"type","submit"),f(y,"class","w-full text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),f(A,"class","pt-3"),f(t,"class","py-6 px-6 space-y-2"),$e(e,O),te(e,"svelte-1b9kpdu",!0)},m(U,R){E(U,e,R),h(e,t),h(t,n),h(n,r),h(n,i),h(n,l),h(t,a),h(t,c),h(c,u),h(c,d),h(c,m),h(t,g),h(t,A),h(A,y),h(y,D),k||(C=[X(y,"click",s[2]),X(t,"submit",Tn(s[4]))],k=!0)},p(U,[R]){R&2&&o!==(o=U[1]?U[1].email:"")&&f(l,"placeholder",o),R&2&&_!==(_=U[1]?U[1].id:"")&&f(m,"placeholder",_),R&1&&b!==(b=U[0]?"... loading":"Logout")&&ue(D,b),$e(e,O=Ce(w,[R&8&&U[3]])),te(e,"svelte-1b9kpdu",!0)},i:T,o:T,d(U){U&&S(e),k=!1,ye(C)}}}function Ka(s,e,t){const n=[];let r=ve(e,n),i;Me(s,Pt,c=>t(1,i=c));let l;const o=()=>{t(0,l=!0),Va().then(()=>{t(0,l=!1)})};function a(c){gn.call(this,s,c)}return s.$$set=c=>{e=oe(oe({},e),Ze(c)),t(3,r=ve(e,n))},[l,i,o,r,a]}class rr extends ie{constructor(e){super(),re(this,e,Ka,Wa,ee,{})}}const Qa=s=>({}),Ss=s=>({});function Xa(s){let e,t;return e=new nr({props:{$$slots:{trigger:[nc],default:[tc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&36&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function Za(s){let e,t,n,r;const i=[rc,sc],l=[];function o(a,c){return a[3].auth?0:1}return e=o(s),t=l[e]=i[e](s),{c(){t.c(),n=Oe()},m(a,c){l[e].m(a,c),E(a,n,c),r=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(_e(),I(l[u],1,1,()=>{l[u]=null}),ge(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),j(t,1),t.m(n.parentNode,n))},i(a){r||(j(t),r=!0)},o(a){I(t),r=!1},d(a){l[e].d(a),a&&S(n)}}}function ec(s){let e,t=s[1],n,r=Es(s);return{c(){e=p("div"),r.c(),f(e,"class","relative")},m(i,l){E(i,e,l),r.m(e,null),n=!0},p(i,l){l&2&&ee(t,t=i[1])?(_e(),I(r,1,1,T),ge(),r=Es(i),r.c(),j(r),r.m(e,null)):r.p(i,l)},i(i){n||(j(r),n=!0)},o(i){I(r),n=!1},d(i){i&&S(e),r.d(i)}}}function tc(s){let e,t;const n=[s[2]];let r={};for(let i=0;i<n.length;i+=1)r=oe(r,n[i]);return e=new sr({props:r}),{c(){Y(e.$$.fragment)},m(i,l){q(e,i,l),t=!0},p(i,l){const o=l&4?Ce(n,[Rt(i[2])]):{};e.$set(o)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function nc(s){let e;return{c(){e=p("button"),e.textContent="Signin",f(e,"slot","trigger"),f(e,"class","btn btn-red")},m(t,n){E(t,e,n)},p:T,d(t){t&&S(e)}}}function sc(s){let e,t;return e=new nr({props:{$$slots:{trigger:[lc],default:[ic]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&36&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function rc(s){let e;const t=s[4].auth,n=Fe(t,s,s[5],Ss);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&32)&&Je(n,t,r,r[5],e?He(t,r[5],i,Qa):qe(r[5]),Ss)},i(r){e||(j(n,r),e=!0)},o(r){I(n,r),e=!1},d(r){n&&n.d(r)}}}function ic(s){let e,t;const n=[s[2]];let r={};for(let i=0;i<n.length;i+=1)r=oe(r,n[i]);return e=new rr({props:r}),{c(){Y(e.$$.fragment)},m(i,l){q(e,i,l),t=!0},p(i,l){const o=l&4?Ce(n,[Rt(i[2])]):{};e.$set(o)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function lc(s){let e;return{c(){e=p("button"),e.textContent="User",f(e,"slot","trigger"),f(e,"class","btn btn-blue")},m(t,n){E(t,e,n)},p:T,d(t){t&&S(e)}}}function oc(s){let e,t;const n=[s[2]];let r={};for(let i=0;i<n.length;i+=1)r=oe(r,n[i]);return e=new sr({props:r}),{c(){Y(e.$$.fragment)},m(i,l){q(e,i,l),t=!0},p(i,l){const o=l&4?Ce(n,[Rt(i[2])]):{};e.$set(o)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function ac(s){let e,t;const n=[s[2]];let r={};for(let i=0;i<n.length;i+=1)r=oe(r,n[i]);return e=new rr({props:r}),{c(){Y(e.$$.fragment)},m(i,l){q(e,i,l),t=!0},p(i,l){const o=l&4?Ce(n,[Rt(i[2])]):{};e.$set(o)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){G(e,i)}}}function Es(s){let e,t,n,r,i;const l=[ac,oc],o=[];function a(c,u){return c[1]?0:1}return t=a(s),n=o[t]=l[t](s),{c(){e=p("section"),n.c(),f(e,"class","svelte-kd3crs")},m(c,u){E(c,e,u),o[t].m(e,null),i=!0},p(c,u){let d=t;t=a(c),t===d?o[t].p(c,u):(_e(),I(o[d],1,1,()=>{o[d]=null}),ge(),n=o[t],n?n.p(c,u):(n=o[t]=l[t](c),n.c()),j(n,1),n.m(e,null))},i(c){i||(j(n),Le(()=>{r||(r=lt(e,tt,{duration:400},!0)),r.run(1)}),i=!0)},o(c){I(n),r||(r=lt(e,tt,{duration:400},!1)),r.run(0),i=!1},d(c){c&&S(e),o[t].d(),c&&r&&r.end()}}}function Ts(s){let e;const t=s[4].default,n=Fe(t,s,s[5],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&32)&&Je(n,t,r,r[5],e?He(t,r[5],i,null):qe(r[5]),null)},i(r){e||(j(n,r),e=!0)},o(r){I(n,r),e=!1},d(r){n&&n.d(r)}}}function cc(s){let e,t,n,r,i;const l=[ec,Za,Xa],o=[];function a(u,d){return u[0]?u[1]?1:2:0}e=a(s),t=o[e]=l[e](s);let c=s[1]&&Ts(s);return{c(){t.c(),n=$(),c&&c.c(),r=Oe()},m(u,d){o[e].m(u,d),E(u,n,d),c&&c.m(u,d),E(u,r,d),i=!0},p(u,[d]){let m=e;e=a(u),e===m?o[e].p(u,d):(_e(),I(o[m],1,1,()=>{o[m]=null}),ge(),t=o[e],t?t.p(u,d):(t=o[e]=l[e](u),t.c()),j(t,1),t.m(n.parentNode,n)),u[1]?c?(c.p(u,d),d&2&&j(c,1)):(c=Ts(u),c.c(),j(c,1),c.m(r.parentNode,r)):c&&(_e(),I(c,1,1,()=>{c=null}),ge())},i(u){i||(j(t),j(c),i=!0)},o(u){I(t),I(c),i=!1},d(u){o[e].d(u),u&&S(n),c&&c.d(u),u&&S(r)}}}function uc(s,e,t){const n=["popup"];let r=ve(e,n),i;Me(s,Pt,u=>t(1,i=u));let{$$slots:l={},$$scope:o}=e;const a=mr(l);let{popup:c=!0}=e;return s.$$set=u=>{e=oe(oe({},e),Ze(u)),t(2,r=ve(e,n)),"popup"in u&&t(0,c=u.popup),"$$scope"in u&&t(5,o=u.$$scope)},[c,i,r,a,l,o]}class ir extends ie{constructor(e){super(),re(this,e,uc,cc,ee,{popup:0})}}function Cs(s,e,t){const n=s.slice();return n[2]=e[t][0],n[3]=e[t][1],n[4]=e[t][2],n[6]=t,n}function fc(s){let e,t=s[2]+"",n;return{c(){e=p("h1"),n=J(t)},m(r,i){E(r,e,i),h(e,n)},p:T,i:T,o:T,d(r){r&&S(e)}}}function hc(s){let e,t,n;var r=s[4];function i(l){return{props:{class:"bg-white rounded-lg"}}}return r&&(e=new r(i())),{c(){e&&Y(e.$$.fragment),t=Oe()},m(l,o){e&&q(e,l,o),E(l,t,o),n=!0},p(l,o){if(r!==(r=l[4])){if(e){_e();const a=e;I(a.$$.fragment,1,0,()=>{G(a,1)}),ge()}r?(e=new r(i()),Y(e.$$.fragment),j(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}},i(l){n||(e&&j(e.$$.fragment,l),n=!0)},o(l){e&&I(e.$$.fragment,l),n=!1},d(l){l&&S(t),e&&G(e,l)}}}function dc(s){let e,t,n,r;const i=[hc,fc],l=[];function o(a,c){return a[4]?0:1}return e=o(s),t=l[e]=i[e](s),{c(){t.c(),n=$()},m(a,c){l[e].m(a,c),E(a,n,c),r=!0},p(a,c){t.p(a,c)},i(a){r||(j(t),r=!0)},o(a){I(t),r=!1},d(a){l[e].d(a),a&&S(n)}}}function Os(s){let e,t;return e=new wa({props:{show:s[0]==s[6],name:s[2],file:s[3],$$slots:{default:[dc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&1&&(i.show=n[0]==n[6]),r&128&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function pc(s){let e,t,n,r=s[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=Os(Cs(s,r,o));const l=o=>I(i[o],1,1,()=>{i[o]=null});return{c(){e=p("div");for(let o=0;o<i.length;o+=1)i[o].c();f(e,"class","svelte-1aksaay")},m(o,a){E(o,e,a);for(let c=0;c<i.length;c+=1)i[c].m(e,null);n=!0},p(o,[a]){if(a&3){r=o[1];let c;for(c=0;c<r.length;c+=1){const u=Cs(o,r,c);i[c]?(i[c].p(u,a),j(i[c],1)):(i[c]=Os(u),i[c].c(),j(i[c],1),i[c].m(e,null))}for(_e(),c=r.length;c<i.length;c+=1)l(c);ge()}},i(o){if(!n){for(let a=0;a<r.length;a+=1)j(i[a]);Le(()=>{t||(t=lt(e,tt,{duration:200},!0)),t.run(1)}),n=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)I(i[a]);t||(t=lt(e,tt,{duration:200},!1)),t.run(0),n=!1},d(o){o&&S(e),ot(i,o),o&&t&&t.end()}}}function mc(s,e,t){const n=[["Slide1","https://nwp-cgn.de/img/poser/imgA02.png",ir],["Slide2","https://nwp-cgn.de/img/poser/imgA03.png",!1],["Slide3","https://nwp-cgn.de/img/poser/imgA04.png",!1],["Slide4","https://nwp-cgn.de/img/poser/imgA05.png",!1]];let{current:r=1}=e;return s.$$set=i=>{"current"in i&&t(0,r=i.current)},[r,n]}class _c extends ie{constructor(e){super(),re(this,e,mc,pc,ee,{current:0})}}function gc(s){let e,t,n,r,i,l,o,a,c,u,d;return{c(){e=p("ul"),t=p("li"),n=p("a"),n.textContent="Home",r=$(),i=p("li"),l=p("a"),l.textContent="Serien",o=$(),a=p("li"),c=p("a"),c.textContent="Studio",f(n,"href","/"),f(n,"class","flex p-2"),f(l,"href","/serien"),f(l,"class","flex p-2"),f(c,"href","/studio"),f(c,"class","flex p-2")},m(m,_){E(m,e,_),h(e,t),h(t,n),h(e,r),h(e,i),h(i,l),h(e,o),h(e,a),h(a,c),u||(d=[De(Ne.call(null,n)),De(Ne.call(null,l)),De(Ne.call(null,c))],u=!0)},p:T,d(m){m&&S(e),u=!1,ye(d)}}}function bc(s){let e,t;return e=new _c({props:{current:0}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p:T,i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function vc(s){let e,t;return e=new Ln({props:{$$slots:{default:[wc]},$$scope:{ctx:s}}}),{c(){Y(e.$$.fragment)},m(n,r){q(e,n,r),t=!0},p(n,r){const i={};r&18&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function yc(s){let e;return{c(){e=J("Signed Out")},m(t,n){E(t,e,n)},p:T,d(t){t&&S(e)}}}function kc(s){let e=(s[2].sub?s[2].sub:"Startseite")+"",t;return{c(){t=J(e)},m(n,r){E(n,t,r)},p:T,d(n){n&&S(t)}}}function wc(s){let e,t,n,r,i,l,o,a,c,u,d,m;function _(y,b){return y[1]?kc:yc}let g=_(s),A=g(s);return d=new ir({props:{popup:!0,class:"shadow bg-white rounded-lg w-full"}}),{c(){e=p("header"),t=p("hgroup"),n=p("h2"),n.textContent=`${s[2].titel?s[2].titel:"Nwp-Studio"}`,r=$(),i=p("h4"),A.c(),l=$(),o=p("hr"),a=$(),c=p("section"),u=p("div"),Y(d.$$.fragment),f(t,"class","py-4 space-y-4"),f(e,"class","py-12 px-4 text-center bg-pink-800 text-white bg-no-repeat bg-contain"),Se(e,"background-image","url("+(s[2].bg?s[2].bg:"")+")"),f(u,"class","py-4"),f(c,"class","container mx-auto px-2")},m(y,b){E(y,e,b),h(e,t),h(t,n),h(t,r),h(t,i),A.m(i,null),E(y,l,b),E(y,o,b),E(y,a,b),E(y,c,b),h(c,u),q(d,u,null),m=!0},p(y,b){g===(g=_(y))&&A?A.p(y,b):(A.d(1),A=g(y),A&&(A.c(),A.m(i,null)))},i(y){m||(j(d.$$.fragment,y),m=!0)},o(y){I(d.$$.fragment,y),m=!1},d(y){y&&S(e),A.d(),y&&S(l),y&&S(o),y&&S(a),y&&S(c),G(d)}}}function Ac(s){let e,t,n,r,i,l,o;function a(_){s[3](_)}let c={$$slots:{default:[gc]},$$scope:{ctx:s}};s[0]!==void 0&&(c.open=s[0]),e=new xn({props:c}),_t.push(()=>In(e,"open",a));const u=[vc,bc],d=[];function m(_,g){return _[1]?1:0}return r=m(s),i=d[r]=u[r](s),{c(){Y(e.$$.fragment),n=$(),i.c(),l=Oe()},m(_,g){q(e,_,g),E(_,n,g),d[r].m(_,g),E(_,l,g),o=!0},p(_,[g]){const A={};g&16&&(A.$$scope={dirty:g,ctx:_}),!t&&g&1&&(t=!0,A.open=_[0],On(()=>t=!1)),e.$set(A);let y=r;r=m(_),r===y?d[r].p(_,g):(_e(),I(d[y],1,1,()=>{d[y]=null}),ge(),i=d[r],i?i.p(_,g):(i=d[r]=u[r](_),i.c()),j(i,1),i.m(l.parentNode,l))},i(_){o||(j(e.$$.fragment,_),j(i),o=!0)},o(_){I(e.$$.fragment,_),I(i),o=!1},d(_){G(e,_),_&&S(n),d[r].d(_),_&&S(l)}}}const $c=0;function Sc(s,e,t){let n;Me(s,Pt,o=>t(1,n=o));let{head:r}=Yt[$c],i;function l(o){i=o,t(0,i)}return[i,n,r,l]}class Ec extends ie{constructor(e){super(),re(this,e,Sc,Ac,ee,{})}}const St=()=>{if(We.auth.user())return!0},Tc={"/":Ec,"/studio":wt({component:hs,props:{pid:2,titel:"Blackburn Studios",sub:"Classic Collection"},conditions:[()=>St()]}),"/studio/:id":wt({component:hs,props:{pid:5,titel:"Blackburn Studios",sub:"Classic Details"},conditions:[()=>St()]}),"/serien":wt({component:Xt,props:{pid:1,titel:"South Park Collection",sub:"Episoden Liste"},conditions:[()=>St()]}),"/serien/detail/:id":wt({component:Xt,props:{pid:3,titel:"South Park Collection",sub:"Episoden Details"},conditions:[()=>St()]}),"/serien/edit/:id":wt({component:Xt,props:{pid:4,titel:"South Park Collection",sub:"Episoden Editor"},conditions:[()=>St()]}),"/serien/add":wt({component:Xt,props:{pid:7,titel:"South Park Collection",sub:"Add Episode"},conditions:[()=>St()]}),"*":ba};function js(s,e,t){const n=s.slice();return n[2]=e[t].path,n[3]=e[t].name,n[4]=e[t].icon,n[5]=e[t].sub,n[7]=t,n}function Cc(s){let e,t,n,r,i,l;return{c(){e=p("a"),t=p("i"),n=$(),f(t,"class","gg-"+s[4]),f(e,"href",s[2]),f(e,"class",r="h-12 px-2 w-full flex items-center justify-center "+(s[0].includes(s[2])?"text-blue-800 bg-gray-50":""))},m(o,a){E(o,e,a),h(e,t),h(e,n),i||(l=De(Ne.call(null,e)),i=!0)},p(o,a){a&1&&r!==(r="h-12 px-2 w-full flex items-center justify-center "+(o[0].includes(o[2])?"text-blue-800 bg-gray-50":""))&&f(e,"class",r)},d(o){o&&S(e),i=!1,l()}}}function Oc(s){let e,t,n,r,i;return{c(){e=p("a"),t=p("i"),f(t,"class","gg-"+s[4]),f(e,"href",s[2]),f(e,"class",n="h-12 px-2 w-full flex items-center justify-center "+(s[0]==="/"?"text-blue-800 bg-gray-50":""))},m(l,o){E(l,e,o),h(e,t),r||(i=De(Ne.call(null,e)),r=!0)},p(l,o){o&1&&n!==(n="h-12 px-2 w-full flex items-center justify-center "+(l[0]==="/"?"text-blue-800 bg-gray-50":""))&&f(e,"class",n)},d(l){l&&S(e),r=!1,i()}}}function Ps(s){let e;function t(i,l){if(i[7]==0)return Oc;if(!i[5])return Cc}let n=t(s),r=n&&n(s);return{c(){r&&r.c(),e=Oe()},m(i,l){r&&r.m(i,l),E(i,e,l)},p(i,l){r&&r.p(i,l)},d(i){r&&r.d(i),i&&S(e)}}}function jc(s){let e,t,n,r,i,l,o,a;e=new vo({}),r=new qr({props:{routes:Tc,restoreScrollState:!0}}),r.$on("conditionsFailed",s[1]);let c=Zn,u=[];for(let d=0;d<c.length;d+=1)u[d]=Ps(js(s,c,d));return{c(){Y(e.$$.fragment),t=$(),n=p("main"),Y(r.$$.fragment),i=$(),l=p("header"),o=p("nav");for(let d=0;d<u.length;d+=1)u[d].c();f(n,"id","main"),f(o,"class","flex items-center border-t divide-x-1 px-1 text-gray-500")},m(d,m){q(e,d,m),E(d,t,m),E(d,n,m),q(r,n,null),E(d,i,m),E(d,l,m),h(l,o);for(let _=0;_<u.length;_+=1)u[_].m(o,null);a=!0},p(d,[m]){if(m&1){c=Zn;let _;for(_=0;_<c.length;_+=1){const g=js(d,c,_);u[_]?u[_].p(g,m):(u[_]=Ps(g),u[_].c(),u[_].m(o,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=c.length}},i(d){a||(j(e.$$.fragment,d),j(r.$$.fragment,d),a=!0)},o(d){I(e.$$.fragment,d),I(r.$$.fragment,d),a=!1},d(d){G(e,d),d&&S(t),d&&S(n),G(r),d&&S(i),d&&S(l),ot(u,d)}}}function Pc(s,e,t){let n;Me(s,Mr,i=>t(0,n=i)),Pt.set(We.auth.user()),We.auth.onAuthStateChange((i,l)=>{i=="SIGNED_IN"?Pt.set(l.user):Pt.set(null)});function r(i){Ve("User Auth Required","Authentification Error","error",3e3),Fr("/")}return[n,r]}class Rc extends ie{constructor(e){super(),re(this,e,Pc,jc,ee,{})}}new Rc({target:document.getElementById("app")});
